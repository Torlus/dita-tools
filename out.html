<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> </head> <body>
<!-- tla1441965696194.ditamap -->
<!-- tla1437576678558.ditamap -->
<!-- tla1440491525474.ditamap -->
<!-- tla1441895196710.ditamap -->
<!-- tla1429082188905.ditamap -->
<!-- tla1429082208715.ditamap -->
<!-- tla1429082228307.ditamap -->
<!-- tla1412687664291.xml -->
<h1>
Historique du document
</h1>
 <p>
 <table>
       <tr>
   <td>
Version
  </td>
   <td>
Date
  </td>
   <td>
Commentaire
  </td>
 
 </tr>
    <tr>
   <td>
3.5
  </td>
   <td>
23/11/2015
  </td>
   <td>
   <p>

<b>Dictionnaire de données</b>
  </p>
   <ul>
    <li>
vads_payment_cards et vads_contracts : ajout de valeurs.
   </li>
    <li>
Précisions apportées sur le format des champs :   <ul>
     <li>
vads_cust_address
    </li>
 
   </ul>
   <ul>
     <li>
vads_ship_to_street
    </li>
     <li>
vads_ship_to_street2
    </li>
 
   </ul>

   </li>
    <li>
vads_trans_status : ajout du statut 
<b>INITIAL</b> dans la liste des statuts possibles.
   </li>
    <li>
vads_change_rate
   </li>
    <li>
vads_recurrence_number
   </li>
 
  </ul>
 
  </td>
 
 </tr>
  <tr>
   <td>
3.4
  </td>
   <td>
01/10/2015
  </td>
   <td>

  </td>
 
 </tr>
  <tr>
   <td>
3.3a
  </td>
   <td>
24/07/2015
  </td>
   <td>

<b>Chapitre supplémentaire</b>  <p>
   <ul>
    <li>
Configurer la notification sur modification par batch
   </li>
 
  </ul>
 
  </p>
  <p>
Modification des chapitres :
  </p>
  <p>
   <ul>
    <li>
Utiliser une i-frame
   </li>
    <li>
vads_trans_id
   </li>
 
  </ul>
 
  </p>

  </td>
 
 </tr>
  <tr>
   <td>
3.3
  </td>
   <td>
07/07/2015
  </td>
   <td>
  <p>

<b>Chapitres supplémentaires</b>
  </p>
  <p>
   <ul>
    <li>
Configurer les e-mails envoyés à l&#x27;acheteur.
   </li>
    <li>
Configurer les e-mails envoyés au marchand.
   </li>
 
  </ul>
 
  </p>
  <p>

  </p>
  <p>
Complément d&#x27;information sur l&#x27;utilisation d&#x27;une i-frame.
  </p>
  <p>

  </p>

<b>Dictionnaire de données</b>  <p>
   <ul>
    <li>
Ajout des champs :   <ul>
     <li>
vads_trans_uuid
    </li>
     <li>
vads_risk_assessment_result
    </li>
     <li>
vads_product_vatN
    </li>
 
   </ul>

   </li>
 
  </ul>
 
  </p>
  <p>
   <ul>
    <li>
vads_bank_product : ajout des valeurs pour les cartes CB pures.
   </li>
    <li>
vads_risk_analyzis_result : ajout de valeurs.
   </li>
    <li>
vads_payment_cards : ajout de valeurs.
   </li>
 
  </ul>
 
  </p>

  </td>
 
 </tr>
  <tr>
   <td>
3.2
  </td>
   <td>
27/04/2015
  </td>
   <td>

<b>Dictionnaire de données</b>  <p>
Correction d’une erreur pour le champ vads_ship_to_type
  </p>

  </td>
 
 </tr>
  <tr>
   <td>
3.1
  </td>
   <td>
02/03/2015
  </td>
   <td>
   <p>
URL Serveur renommé en URL de notification
  </p>
   <p>

<b>Chapitres supplémentaires</b>
  </p>
   <p>
   <ul>
    <li>
Gérer les paramètres de votre boutique par fichier de configuration
   </li>
    <li>
Activer le rejeu automatique
   </li>
    <li>
Rejouer manuellement la notification
   </li>
 
  </ul>
 
  </p>
   <p>

  </p>
   <p>
Complément d&#x27;information sur l&#x27;utilisation d&#x27;une i-frame.
  </p>
   <p>

  </p>
   <p>

<b>Dictionnaire de données</b>
  </p>
   <p>
   <ul>
    <li>
Ajout des champs :   <ul>
     <li>
vads_payment_seq
    </li>
     <li>
vads_cust_legal_name
    </li>
     <li>
vads_ship_to_legal_name
    </li>
 
   </ul>

   </li>
 
  </ul>
 
  </p>
   <p>
   <ul>
    <li>
Ajout de la valeur E_CV dans la liste des moyens de paiement (réseau ANCV)
   </li>
    <li>
Précision sur le champ vads_url_check
   </li>
 
  </ul>
 
  </p>
  
  </td>
 
 </tr>
  <tr>
   <td>
3.0
  </td>
   <td>
21/11/2014
  </td>
   <td>
Refonte globale de la documentation.
  </td>
 
 </tr>
   
</table>
 
</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>
 <table>
     <tr>
   <td>
 
<b>Confidentialité</b> 
  </td>
 
 </tr>
  <tr>
   <td>
 Toutes les informations contenues dans ce document sont considérées comme confidentielles. L’utilisation de celles-ci en dehors du cadre de cette consultation ou la divulgation à des personnes extérieures est soumise à l’approbation préalable de Lyra Network. 
  </td>
 
 </tr>
   
</table>
 
</p>
 <!-- tla1409039700472.xml -->
<h1>
Contacter l&#x27;assistance technique
</h1>
 <p>
En cas de problème de connexion au Back Office, utilisez le lien « mot de passe oublié ou compte bloqué ».
</p>
 <p>

</p>
 <p>
Pour toute question technique ou demande d&#x27;assistance, nos services sont disponibles du lundi au vendredi, de 9h à 18h
</p>
 <p>

</p>
 <p>
 <table>
        <tr>
   <td>

  </td>
   <td>
par téléphone au : 
  </td>
   <td>
 0 811 708 709 depuis la France,  <p>

  </p>
 
  </td>
 
 </tr>
  <tr>
   <td>

  </td>
   <td>

  </td>
   <td>
+33 567 223 329 depuis l&#x27;étranger,  <p>

  </p>
  <p>

  </p>

  </td>
 
 </tr>
  <tr>
   <td>

  </td>
   <td>
par e-mail :
  </td>
   <td>
<a href="mailto:support@payzen.eu">support@payzen.eu</a>
  </td>
 
 </tr>
   
</table>
 
</p>
 <p>

</p>
 <p>
Pour faciliter le traitement de vos demandes, il vous sera demandé de communiquer votre identifiant de boutique (numéro à 8 chiffres).
</p>
 <p>
Cette information est disponible dans l&#x27;e-mail d&#x27;inscription de votre boutique, ou dans le Back Office (menu 
<b>Paramétrage</b> &gt; 
<b>Boutique</b> &gt; 
<b>Configuration</b>).
</p>
 <p>

</p>
 <!-- tla1415949281462.xml -->
<h1>
Les différents types de paiement
</h1>
<!-- tla1416990214312.xml -->
 <h2>
 Paiement comptant immédiat
</h2>
  <p>
Un paiement est considéré comme 
<b>comptant immédiat</b> si : <ul>
   <li>
le montant est débité en une seule fois,
  </li>
   <li>
le délai de remise en banque est de 0 jour.
  </li>
  
 </ul>

 </p>
  <p>
Une demande d&#x27;autorisation pour le montant global est effectuée. Le paiement est remis en banque dès que possible.
 </p>
  <!-- tla1416990255326.xml -->
 <h2>
 Paiement comptant différé
</h2>
  <p>
Un paiement est considéré comme 
<b>comptant différé</b> si :
 </p>
  <p>
  <ul>
   <li>
le montant est débité en une seule fois,
  </li>
   <li>
le délai de remise en banque est strictement supérieur à 0 jour.  <p>
La date de remise ne peut être supérieure à 12 mois après la date d’enregistrement du paiement.
  </p>

  </li>
 
 </ul>
 
 </p>
    <p>

 </p>
  <p>
Il existe deux types de paiements comptants différés :
 </p>
  <p>
  <ul>
   <li>

<b>Délai de remise inférieur à la durée de validité de l&#x27;autorisation</b> (voir section 
<b>Validité d&#x27;une autorisation</b> présentée plus bas)
  </li>
 
 </ul>
 
 </p>
  <p>
Une demande d&#x27;autorisation pour le montant global est effectuée. Sans modification du marchand, le paiement est remis en banque à la date de présentation demandée.
 </p>
  <p>
  <ul>
   <li>

<b>Délai de remise supérieur à la durée de validité de l&#x27;autorisation</b> (voir section 
<b>Validité d&#x27;une autorisation</b> présentée plus bas)
  </li>
 
 </ul>
 
 </p>
  <p>
Une demande d&#x27;autorisation à 1 euro
 </p>
  <p>
Si cette autorisation à 1 euro
 </p>
  <p>
J-1 à la date de présentation demandée, une demande d’autorisation pour le montant global est effectuée. 
 </p>
  <p>
Le paiement peut être accepté ou refusé. Le marchand doit donc être très vigilant sur ce type de paiement avant de délivrer un bien / un service à l&#x27;acheteur. 
 </p>
   <!-- tla1416990290134.xml -->
 <h2>
 Paiement en plusieurs fois
</h2>
  <p>
Un paiement est dit &quot;en plusieurs fois&quot; dès lors que l&#x27;acheteur est débité du montant de son achat en plusieurs échéances. 
 </p>
  <p>
La première échéance fonctionne de la même manière qu&#x27;un paiement comptant immédiat.
 </p>
  <p>
La ou les échéance(s) suivante(s) s&#x27;apparente(nt) à un ou des paiement(s) comptant(s) différé(s).
 </p>
  <p>
Seule la première échéance peut faire l’objet d’une garantie pour le marchand à condition que la date de présentation demandée de la première échéance soit inférieure à la date de validité de l&#x27;autorisation en fonction du moyen de paiement. (voir section 
<b>Validité d&#x27;une autorisation</b> présentée plus bas)
 </p>
 <!-- tla1416990314409.xml -->
 <h2>
 Demande d&#x27;autorisation
</h2>
  <p>
Message adressé par la plateforme de paiement à l&#x27;émetteur de la carte afin d&#x27;obtenir son accord pour le paiement de la transaction.
 </p>
  <p>
De manière générale, le débit n&#x27;est effectif qu&#x27;après la remise en banque de la transaction. 
 </p>
  <p>
Certains émetteurs de carte prépayées ou d&#x27;origine espagnole et canadienne débitent le montant de l&#x27;autorisation en temps réel et le re-creditent lorsque l&#x27;autorisation est échue (voir tableau ci-après).
 </p>
  <p>

 </p>
  <p>

<b>Validité d&#x27;une autorisation</b>
 </p>
  <p>
Ci-dessous la liste des moyens de paiement dont la validité de l&#x27;autorisation est supérieure à 0 jour.  <table>
         <tr>
    <td>
Moyen de paiement
   </td>
    <td>
Type de cartes (vads_payment_cards)
   </td>
    <td>
Réseau
   </td>
    <td>
Durée de validité d&#x27;une autorisation (en jours)
   </td>
 
  </tr>
     <tr>
    <td>
American Express
   </td>
    <td>
AMEX
   </td>
    <td>
AMEX
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
Carte Aurore
   </td>
    <td>
AURORE-MULTI
   </td>
    <td>
AURORE
   </td>
    <td>
29
   </td>
 
  </tr>
   <tr>
    <td>
Carte Cora
   </td>
    <td>
CORA_BLANCHE
   </td>
    <td>
AURORE
   </td>
    <td>
29
   </td>
 
  </tr>
   <tr>
    <td>
Carte Cora Premium
   </td>
    <td>
CORA_PREM
   </td>
    <td>
AURORE
   </td>
    <td>
29
   </td>
 
  </tr>
   <tr>
    <td>
Carte Cora Visa
   </td>
    <td>
CORA_VISA
   </td>
    <td>
AURORE
   </td>
    <td>
29
   </td>
 
  </tr>
   <tr>
    <td>
CB
   </td>
    <td>
CB
   </td>
    <td>
CB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
Visa
   </td>
    <td>
VISA
   </td>
    <td>
CB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
MasterCard
   </td>
    <td>
MASTERCARD
   </td>
    <td>
CB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
Maestro
   </td>
    <td>
MAESTRO
   </td>
    <td>
CB
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Bancontact Mistercash
   </td>
    <td>
BANCONTACT
   </td>
    <td>
CB
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Visa Electron
   </td>
    <td>
VISA_ELECTRON
   </td>
    <td>
CB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
E-carte bleue
   </td>
    <td>
E-CARTEBLEUE
   </td>
    <td>
CB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
Carte Privilège
   </td>
    <td>
CDGP
   </td>
    <td>
CDGP
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Carte cadeau Truffaut
   </td>
    <td>
TRUFFAUT_CDX
   </td>
    <td>
CERIDIAN
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
3 fois CB Cofinoga
   </td>
    <td>
COF3XCB
   </td>
    <td>
COF3XCB
   </td>
    <td>
21
   </td>
 
  </tr>
   <tr>
    <td>
Carte Be Smart
   </td>
    <td>
COFINOGA
   </td>
    <td>
COFINOGA
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
Carte Soficarte
   </td>
    <td>
SOFICARTE
   </td>
    <td>
COFINOGA
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Carte Sygma
   </td>
    <td>
SYGMA
   </td>
    <td>
COFINOGA
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Carte Diners Club
   </td>
    <td>
DINERS
   </td>
    <td>
GATECONEX
   </td>
    <td>
3
   </td>
 
  </tr>
   <tr>
    <td>
Bancontact Mistercash
   </td>
    <td>
BANCONTACT
   </td>
    <td>
GATECONEX
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Carte JCB
   </td>
    <td>
JCB
   </td>
    <td>
JCB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
Bancontact Mistercash
   </td>
    <td>
BANCONTACT
   </td>
    <td>
GICC
   </td>
    <td>
30
   </td>
 
  </tr>
   <tr>
    <td>
Paylib
   </td>
    <td>
PAYLIB
   </td>
    <td>
PAYLIB
   </td>
    <td>
7
   </td>
 
  </tr>
   <tr>
    <td>
PayPal
   </td>
    <td>
PAYPAL
   </td>
    <td>
PAYPAL
   </td>
    <td>
3
   </td>
 
  </tr>
   <tr>
    <td>
POSTFINANCE
   </td>
    <td>
POSTFINANCE
   </td>
    <td>
POSTFINANCE
   </td>
    <td>
1
   </td>
 
  </tr>
   <tr>
    <td>
Virement SEPA
   </td>
    <td>
SCT
   </td>
    <td>
SEPA
   </td>
    <td>
13
   </td>
 
  </tr>
   <tr>
    <td>
Prélèvement SEPA
   </td>
    <td>
SDD
   </td>
    <td>
SEPA
   </td>
    <td>
13
   </td>
 
  </tr>
   
 </table>

 </p>
 <!-- tla1406021920185.xml -->
<h1>
Comprendre le déroulement d&#x27;un paiement
</h1>
 <p>
La procédure d’un paiement en ligne s’appréhende de manière différente du point de vue de l’acheteur et du marchand. 
</p>
 <!-- tla1406022036502.xml -->
 <h2>
 Définir les étapes d’un paiement - Vue acheteur
</h2>
  <p>
Le diagramme ci-dessous présente la cinématique des échanges du point de vue de l&#x27;acheteur.
 </p>
  <p>
Cinématique des échanges – Vue acheteur
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1406022174130.image" alt="DiagrammeFluxAcheteur"/>  <ol>
   <li>
L’acheteur valide son panier.
  </li>
   <li>
Le site marchand redirige l’acheteur vers la plateforme de paiement. 
  </li>
   <li>
La plateforme de paiement, après vérification des paramètres et de leur signature, présente la page de sélection du moyen de paiement.   <p>
Sélection du moyen de paiement
  </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437748433397.image" alt="ChoixMoyenPaiement"/>   <p>
Si le moyen de paiement a été spécifié dans le formulaire, l’acheteur passe directement à l’étape 6.
  </p>

  </li>
   <li>
L’acheteur sélectionne son moyen de paiement.
  </li>
   <li>
Il clique sur 
<b>Valider</b>.
  </li>
   <li>
Il renseigne le numéro et la date d&#x27;expiration de sa carte.    <p>
Saisie des informations du moyen de paiement
  </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437748495407.image" alt="SaisieDonneesBancaires"/> 
  </li>
   <li>
Il confirme sa saisie en cliquant sur 
<b>Valider</b>.
  </li>
   <li>
Si le marchand et la carte de l’acheteur sont enrôlés dans le programme 3D Secure, une authentification 3D Secure a lieu.
  </li>
   <li>
Une demande d&#x27;autorisation est effectuée auprès de la banque de l’acheteur, l’émetteur, en plus des contrôles de fraudes internes de la plateforme de paiement.
  </li>
   <li>
En cas de succès, une page de résumé est présentée à l’acheteur récapitulant les informations de la transaction.   <p>
Un bouton permettant un retour à la boutique est proposé.
  </p>

  </li>
 
 </ol>
  <p>
Récapitulatif de la transaction
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437748545920.image" alt="DetailPaiement"/>  <p>
En cas d’échec, un message s’affiche. L’acheteur est informé du refus de la demande de paiement. Un bouton permettant d’annuler et de retourner à la boutique est proposé.
 </p>
  <p>
Page de résumé en cas d’échec de la transaction
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437748588430.image" alt="PageResumePaiementEchec"/> <!-- tla1406029892365.xml -->
 <h2>
 Définir les étapes d&#x27;un paiement - Vue marchand
</h2>
  <p>
Le paiement en ligne, côté marchand, se déroule de la manière suivante:
 </p>
  <p>
Cinématique des échanges – Vue marchand
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437748633530.image" alt="DiagrammeFluxMarchand"/>  <p>
  <ol>
   <li>
L’acheteur valide son panier.
  </li>
   <li>
Le site marchand construit le formulaire à partir des données du panier de l’acheteur.
  </li>
   <li>
Le site marchand redirige l’acheteur vers la plateforme de paiement. Cette redirection se fait sous la forme d&#x27;un formulaire HTML POST en HTTPS. Les paramètres qui le composent sont décrits dans le chapitre 
<b><a href="#TODO-emm1405083451541.xml">Générer un formulaire de paiement</a></b>.
  </li>
   <li>
Après saisie des données du moyen de paiement par l’acheteur, la plateforme procède au paiement.
  </li>
   <li>
En fonction du paramétrage de la boutique (voir chapitre 
<b>Paramétrer les notifications</b>), un appel est automatiquement réalisé afin de transmettre le résultat au site marchand. 
  </li>
   <li>
Le site marchand analyse et traite le résultat du paiement. 
  </li>
   <li>
Il met à jour la base de données (état de la commande, état du stock etc…).
  </li>
   <li>
L’acheteur est informé du résultat du paiement sur la plateforme. S’il décide de retourner sur le site marchand, ce dernier le remercie et lui affiche l’état de sa commande.
  </li>
 
 </ol>
 
 </p>
 <!-- emm1415871023015.xml -->
 <h2>
 Cycle de vie des transactions
</h2>
  <p>
Dans tous les schémas suivants, la légende suivante est adoptée : 
 </p>
  <p>
 Action du marchand nécessaire - manuelle Back Office ou automatique (webservice)
 </p>
 <!-- tla1415949820786.xml -->
  <h3>
  Mode de validation automatique
</h3>
   <p>

  </p>
 <!-- tla1415949868132.xml -->
   <h4>
   Cycle de vie d’une transaction de paiement comptant immédiat
</h4>
 <img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1415956040247.image" alt="tla1415956040247.image"/>    <p>
Suite à la demande de paiement, plusieurs contrôles sont automatiquement mis en oeuvre : 
   </p>
    <p>
    <ul>
     <li>
L’authentification 3D Secure.
    </li>
     <li>
Différents contrôles locaux réalisés directement par la plateforme de paiement (ceux-ci incluent potentiellement les contrôles liés à la souscription au service additionnel de contrôles anti-fraude).
    </li>
     <li>
Une demande d’autorisation est également effectuée auprès de la banque de l&#x27;acheteur, le jour même de la date de paiement, quelle que soit la date de remise en banque demandée.     <p>
Si l’un de ces contrôles échoue, la demande de paiement n’est pas acceptée. L&#x27;acheteur est informé du refus à l’écran. Dans le Back Office, la transaction est consultable avec le statut 
<b>Refusé</b>. 
    </p>
    <p>
Dans le cas contraire, la transaction prend le statut 
<b>En attente de remise</b>. 
    </p>
L&#x27;acheteur est informé de l’acceptation de sa demande de paiement et est destinataire d’un e-mail de confirmation. La transaction partira automatiquement en remise le jour demandé par le marchand.     <p>
Dans l’attente de cette remise, le marchand peut modifier la date de remise ainsi que le montant (modification du montant uniquement à la baisse, ce cas correspond à une livraison partielle par le marchand). 
    </p>
    <p>
Si nécessaire, il peut également annuler la transaction : celle-ci prend alors le statut 
<b>Annulé</b>. 
    </p>

    </li>
 
   </ul>
 
   </p>
 <!-- tla1415950397222.xml -->
   <h4>
   Cycle de vie d’une transaction de paiement comptant différé
</h4>
    <p>

<b>Délai de remise inférieur à la durée de validité de l&#x27;autorisation</b> 
   </p>
    <p>
(voir diagramme cycle de vie d&#x27;une transaction de paiement comptant immédiat).
   </p>
    <p>

<b>Délai de remise supérieur à la durée de validité de l&#x27;autorisation </b>
   </p>
    <p>
Toute transaction de paiement comptant différé réalisée avec le mode de validation automatique, et dont la demande d’autorisation à 1 euro
   </p>
    <p>
La demande d’autorisation est automatiquement effectuée : 
   </p>
    <p>
    <ul>
     <li>
fonctionnement par défaut : le jour de la date de remise en banque souhaitée,
    </li>
     <li>
fonctionnement avec autorisation anticipée : selon le moyen de paiement sélectionné, à J-Δ (voir <a href="#TODO-tla1415949281462.xml">tableau</a> illustrant la validité d&#x27;une autorisation) avant la date de remise en banque souhaitée.     <p>
Le mode par autorisation anticipée doit faire l&#x27;objet d&#x27;une demande auprès du Service Client. 
    </p>
    <p>
En cas de refus de type non frauduleux (voir <a href="#TODO-tla1408548356588.xml">tableau</a>), l&#x27;autorisation sera réitérée chaque jour jusqu&#x27;à J-2 avant la date de remise en banque
    </p>
Dans l’attente, le marchand peut annuler la transaction ou en modifier le montant (à la baisse uniquement) et/ou la date de remise. 
    </li>
 
   </ul>
 
   </p>
    <p>

   </p>
    <p>
Le diagramme suivant résume les différents statuts pouvant être pris par ce type de transaction (cas d&#x27;une demande d&#x27;autorisation non rejouée) : 
   </p>
 <img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1415956296508.image" alt="tla1415956296508.image"/> <!-- tla1415950704803.xml -->
   <h4>
   Cycle de vie d’une transaction de paiement en plusieurs fois
</h4>
    <p>
La première échéance du paiement en plusieurs fois se comportera exactement comme une transaction de paiement comptant immédiat ou une transaction de paiement différé selon sa date de remise en banque. 
   </p>
    <p>
Les échéances suivantes sont par défaut positionnées en statut 
<b>En attente d’autorisation</b>. La banque de l&#x27;acheteur pourra refuser la demande d’autorisation. La plateforme de paiement informe alors le marchand du refus de la transaction par e-mail. 
   </p>
    <p>
Les demandes d’autorisation des échéances suivantes sont automatiquement effectuées comme une transaction de paiement différé, donc avec deux dates possibles :    <ul>
     <li>
fonctionnement par défaut : le jour de la date de remise en banque souhaitée,
    </li>
     <li>
fonctionnement avec autorisation anticipée : selon le moyen de paiement sélectionné, à J-Δ (voir <a href="#TODO-tla1415949281462.xml">tableau</a> illustrant la validité d&#x27;une autorisation) avant la date de remise en banque souhaitée. 
    </li>
 
   </ul>

   </p>
    <p>

   </p>
    <p>
Les échéances ultérieures suivent le diagramme d’état suivant (cas d&#x27;une demande d&#x27;autorisation non rejouée) :
   </p>
    <p>

   </p>
 <img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1415956443007.image" alt="tla1415956443007.image"/>    <p>
L’annulation d’une échéance n’implique en aucun cas l’annulation des échéances suivantes restant à remettre en banque. 
   </p>
 <!-- tla1415950960317.xml -->
  <h3>
  Mode de validation manuelle
</h3>
   <p>

  </p>
 <!-- tla1415950986116.xml -->
   <h4>
   Cycle de vie d’une transaction de paiement comptant immédiat
</h4>
    <p>
Suite à la demande de paiement, des contrôles sont automatiquement mis en oeuvre : 
   </p>
    <p>
    <ul>
     <li>
L’authentification 3D Secure.
    </li>
 
   </ul>
 
   </p>
    <p>
    <ul>
     <li>
Différents contrôles locaux réalisés directement par la plateforme de paiement (ceux-ci incluent potentiellement les contrôles liés à la souscription au service additionnel du contrôle des risques).
    </li>
 
   </ul>
 
   </p>
    <p>
    <ul>
     <li>
Une demande d’autorisation est effectuée auprès de la banque de l&#x27;acheteur.
    </li>
 
   </ul>
 
   </p>
    <p>
Si l’un de ces contrôles échoue, la demande de paiement n’est pas acceptée. L&#x27;acheteur est informé du refus à l’écran. Dans le Back Office, la transaction est consultable avec le statut 
<b>Refusé</b>. 
   </p>
    <p>

   </p>
    <p>
Dans le cas contraire le paiement est accepté et la transaction est consultable dans le Back Office avec le statut 
<b>A Valider</b>.
   </p>
    <p>
Le marchand doit alors obligatoirement valider la transaction avant la date de remise demandée. Dans le cas contraire, la transaction prend le statut 
<b>Expiré</b> et ne peut plus être remise en banque.
   </p>
    <p>
 
   </p>
    <p>
Dès lors qu’une transaction est validée, elle passe en statut 
<b>En attente de remise</b>. 
   </p>
      <p>
Il peut également annuler la transaction si nécessaire. La transaction prend alors le statut 
<b>Annulé</b>.
   </p>
 <img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1415956574473.image" alt="tla1415956574473.image"/> <!-- tla1415951388962.xml -->
   <h4>
   Cycle de vie d’une transaction de paiement comptant différé 
</h4>
    <p>

<b>Délai de remise inférieur à la durée de validité de l&#x27;autorisation</b> 
   </p>
    <p>
(voir diagramme cycle de vie d&#x27;une transaction de paiement comptant immédiat)
   </p>
    <p>

<b>Délai de remise supérieur à la durée de validité de l&#x27;autorisation </b>
   </p>
    <p>
Toute transaction de paiement comptant différé réalisée avec le mode de validation manuelle et dont la demande d’autorisation à 1 euro
   </p>
    <p>
La demande d’autorisation est automatiquement effectuée le jour de la remise en banque demandé, sous réserve que le marchand ait précédemment validé la transaction. 
   </p>
    <p>
Dans l’attente de la remise, le marchand peut annuler la transaction ou en modifier le montant et/ou la date de remise en banque. 
   </p>
    <p>
Ces transactions suivent le diagramme d’état suivant : 
   </p>
 <img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1415983511186.image" alt="tla1415983511186.image"/> <!-- tla1415951699874.xml -->
   <h4>
   Cycle de vie d’une transaction de paiement en plusieurs fois 
</h4>
    <p>
La première échéance du paiement en plusieurs fois se comportera exactement comme une transaction de paiement comptant immédiat ou une transaction de paiement différé, selon la date de remise en banque demandée. 
   </p>
    <p>
Les échéances suivantes sont par défaut positionnées en statut 
<b>A valider et autoriser</b> tant que la première échéance n’aura pas été validée par le marchand. Leur bonne fin n’est pas garantie pour le marchand. En effet, la banque de l&#x27;acheteur peut refuser la demande d’autorisation. 
   </p>
    <p>

   </p>
    <p>

<b>La validation de la 1ère échéance vaut validation de toutes les échéances suivantes. Par contre, l’annulation d’une échéance ne vaut pas annulation des échéances ultérieures. </b>
   </p>
    <p>

   </p>
 <img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1415983766360.image" alt="tla1415983766360.image"/> <!-- tla1415951899582.xml -->
  <h3>
  Spécificités liées aux autorisations anticipées
</h3>
   <p>
Pour activer les autorisations anticipées, veuillez contacter le service clients de la plateforme de paiement.
  </p>
   <p>
Ce processus s&#x27;applique uniquement pour les demandes d’autorisation :   <ul>
    <li>
du paiement comptant différé, 
   </li>
    <li>
des échéances, autres que la première, pour le paiement en plusieurs fois. 
   </li>
 
  </ul>

  </p>
   <p>
Le déclenchement de l&#x27;autorisation s&#x27;effectuera à J-Δ (voir durée de validité d&#x27;une autorisation pour chaque moyen de paiement) avant la date de remise en banque souhaitée.
  </p>
   <p>
En cas de refus par le serveur d&#x27;autorisation de la banque de l&#x27;acheteur, exclusivement pour un motif non frauduleux (voir <a href="#TODO-tla1408548356588.xml">tableau</a>), un processus réitère automatiquement les demandes d&#x27;autorisation jusqu&#x27;à J-2.
  </p>
     <p>
En cas de refus pour un motif frauduleux la transaction est considérée comme définitivement refusée.
  </p>
 <!-- emm1405084721287.xml -->
<h1>
Établir le dialogue avec la plateforme de paiement
</h1>
 <!-- emm1405084806450.xml -->
<!-- emm1405084895977.xml -->
<!-- emm1405084935055.xml -->
 <h2>
 Choisir le mode Test ou Production
</h2>
  <p>
Le choix du mode 
<b>TEST</b> ou 
<b>PRODUCTION</b> s&#x27;effectue en utilisant le champ 
<b>vads_ctx_mode</b> (Voir chapitre 
<b><a href="#TODO-emm1405083451541.xml">Générer un formulaire de paiement</a></b>).
 </p>
  <p>
  <ul>
   <li>
Le mode 
<b>TEST</b> permet de réaliser des paiements de test.   <p>

<b>Il est toujours disponible</b>, même après la génération du certificat de production.
  </p>
Si vous créez un nouveau site marchand (ou disposez d’un environnement de recette), vous pourrez effectuer vos tests sans impacter le site actuellement en production.   <p>
Les transactions de TEST sont visibles dans le Back Office depuis le menu 
<b>Gestion</b> &gt; 
<b>Transactions de Test</b>
  </p>
   <p>
Visualiser les transactions de test
  </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437559365689.image" alt="MenuTransactionTest"/>
  </li>
   <li>
Le mode 
<b>PRODUCTION</b> n’est disponible qu’une fois le certificat de production généré (voir chapitre 
<b>Activer la boutique en mode PRODUCTION</b>
  </li>
 
 </ul>
 
 </p>
  <p>

 </p>
 <!-- emm1405084980499.xml -->
 <h2>
 Gérer le dialogue vers le site marchand
</h2>
  <p>
La gestion du dialogue vers le site marchand est réalisée grâce à deux types d’URL :
 </p>
  <p>
  <ul>
   <li>

<b>Url de notification instantanée</b>, également appelée IPN (Instant Payment Notification),
  </li>
   <li>

<b>Url de retour</b> vers le site marchand.
  </li>
 
 </ul>
 
 </p>
  <p>

 </p>
  <p>

 </p>
  <p>

<u>Url de notification instantanée - IPN (Instant Payment Notification)</u>
 </p>
  <p>
La plateforme de paiement notifie automatiquement au site marchand le résultat du paiement. Les données sont envoyées en mode 
<b>POST</b>. 
 </p>
  <p>
La plateforme est capable de contacter le site marchand quel que soit le protocole utilisé (http ou https).
 </p>
  <p>

 </p>
  <p>

<b>Pour traiter</b> ces notifications, le marchand doit 
<b>créer une page</b> sur son site qui :
 </p>
  <p>
  <ul>
   <li>
analyse les données reçues en mode 
<b>POST</b>,
  </li>
   <li>
s’assure de l’intégrité des informations reçues en calculant la signature,
  </li>
   <li>
vérifie qu’il ne s’agit pas d’un doublon de notification (renvoi de la notification depuis le Back Office par exemple),
  </li>
   <li>
déclenche la mise à jour de sa base de données (état de la commande, stock, etc…),
  </li>
   <li>
envoie des e-mails à l’acheteur (facture, suivi de commande, etc…).
  </li>
 
 </ul>
 
 </p>
  <p>
Le temps de traitement influe directement sur le délai d’affichage de la page de résumé du paiement. Plus le traitement est long, plus l’affichage est retardé.
 </p>
  <p>

<b>Pour recevoir</b> les notifications, le marchand doit 
<b>paramétrer</b> les règles de notifications depuis son Back Office (voir chapitre 
<b>Paramétrer les notifications</b>). 
 </p>
  <p>
En cas de problème de communication vers le site marchand, la plateforme de paiement envoie un e-mail à l’administrateur de la boutique, précisant la raison de l’échec (erreur http, etc. …) ainsi que la procédure à suivre pour renvoyer la notification depuis le Back Office.
 </p>
  <p>

 </p>
  <p>

 </p>
  <p>

 </p>
  <p>

<u>Url de retour vers le site marchand</u>
 </p>
  <p>
 
 </p>
  <p>
Le marchand peut paramétrer dans le Back Office les URL de retour &quot;par défaut&quot; depuis le menu 
<b>Paramétrage</b> &gt; 
<b>Boutique</b> &gt; onglet 
<b>Configuration</b>) :
 </p>
  <p>

 </p>
  <p>
Spécification des URL de retour
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437559683519.image" alt="URLRetourV2.3"/>  <p>
Il peut configurer une URL de retour à la boutique différente en fonction du mode.
 </p>
  <p>
Par défaut, l&#x27;acheteur est redirigé vers l&#x27;URL de retour, et ce, quel que soit le résultat du paiement.
 </p>
  <p>
Si toutefois aucune URL n’est configurée à ce niveau, alors la redirection utilisera l&#x27;URL principale de la boutique (paramètre 
<b>URL</b> défini dans l&#x27;encadré 
<b>Détails</b> de la boutique). 
 </p>
  <p>

 </p>
  <p>
Le marchand a la possibilité de surcharger cette configuration dans son formulaire de paiement (voir chapitre 
<b>Définir les URL de retour</b>).
 </p>
  <p>
 
 </p>
  <p>

<u>Remarque</u> :
 </p>
  <p>
Le statut de la règle &quot;URL de notification à la fin du paiement&quot; (IPN) est affiché dans cet écran. Si cette dernière est non paramétrée, veillez à la renseigner (voir chapitre 
<b>Paramétrer les notifications</b>) . 
 </p>
 <!-- emm1405084278441.xml -->
 <h2>
 Gérer la sécurité
</h2>
  <p>
Plusieurs moyens sont mis en place afin d’assurer la sécurité des transactions de paiement en ligne.
 </p>
 <!-- emm1405084338582.xml -->
  <h3>
  Gérer la sécurité au moyen de la signature
</h3>
   <p>

  </p>
   <p>
L’intégrité des informations échangées est garantie par un échange de signatures numériques entre la plateforme de paiement et le site marchand. 
  </p>
   <p>

  </p>
   <p>
Le dialogue entre la plateforme de paiement et le site marchand s’effectue par soumission de formulaires HTML. 
  </p>
   <p>
Un formulaire contient une liste de champs spécifiques (voir 
<b><a href="#TODO-emm1405083451541.xml">Générer un formulaire de paiement</a></b>) utilisés pour calculer sa signature numérique (voir chapitre 
<b><a href="#TODO-emm1405088305497.xml">Calculer la signature</a></b>).
  </p>
   <p>
Le résultat de ce calcul doit être envoyé dans le champ 
<b>signature</b>.
  </p>
   <p>

  </p>
   <p>
Nous utilisons la fonction de hachage « SHA-1 » pour chiffrer la signature.
  </p>
   <p>
SHA-1 est disponible dans la plupart des langages utilisés dans le développement d’applications Web.
  </p>
   <p>

  </p>
   <p>
En fonction du language choisi, vous aurez peut être à coder vous-même les fonctions de hachage SHA-1 (comme en ASP par exemple). 
  </p>
   <p>

  </p>
   <p>
Pour vous aider, voici le résultat du SHA-1 du caractère &quot; a &quot; :
  </p>
   <p>
SHA1( &quot; a &quot;) = 86f7e437faa5a7fce15d1ddcb9eaeaea377667b8
  </p>
   <p>

  </p>
   <p>

<u>Modélisation des mécanismes de sécurité :</u>
  </p>
   <p>

  </p>
  <p>
Diagramme mécanisme de sécurité
  </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437748696912.image" alt="DiagrammeSignature"/>   <ol>
    <li>
Le site marchand récolte les données du formulaire et calcule la signature.
   </li>
    <li>
Le site marchand soumet le formulaire à la plateforme.
   </li>
    <li>
La plateforme réceptionne les données du formulaire et calcule la signature.
   </li>
    <li>
La plateforme compare la signature calculée avec la signature transmise par le site marchand.
   </li>
    <li>
Si les signatures diffèrent, la demande de paiement est rejetée.   <p>
 Sinon, la plateforme procède au paiement.
   </p>

   </li>
    <li>
La plateforme réceptionne les données du résultat et calcule la signature de la réponse.
   </li>
    <li>
En fonction du paramétrage de la boutique (voir chapitre 
<b>Paramétrer les notifications</b>), la plateforme soumet le résultat du paiement au site marchand.
   </li>
    <li>
Le site marchand réceptionne les données et calcule la signature. Il compare la signature calculée avec la signature transmise par la plateforme.
   </li>
    <li>
Si les signatures diffèrent, le marchand analyse l’origine de l’erreur (erreur dans le calcul, tentative de fraude etc...)    <p>
Sinon, le site marchand procède à la mise à jour de sa base de données (état du stock, état de la commande etc…).
   </p>

   </li>
 
  </ol>
 <!-- emm1405084393028.xml -->
  <h3>
  Conserver le certificat de production
</h3>
   <p>
Dès le premier paiement réalisé avec une carte réelle, le certificat de production est masqué pour des raisons de sécurité.
  </p>
   <p>

  </p>
   <p>
Nous vous conseillons fortement de conserver ce certificat en lieu sûr (fichier chiffré, base de données etc…).
  </p>
   <p>

  </p>
   <p>
En cas de perte, le marchand aura la possibilité d’en générer un nouveau depuis son Back Office.
  </p>
   <p>
Pour rappel, le certificat de production est visible dans le Back Office depuis le menu 
<b>Paramétrage</b> &gt; 
<b>Boutique</b> &gt; onglet 
<b>Certificats</b>. 
  </p>
 <!-- emm1405084529041.xml -->
  <h3>
  Gérer les données sensibles
</h3>
   <p>
Des règles strictes régissent les transactions de paiement en ligne (Certification PCI-DSS).
  </p>
   <p>

  </p>
   <p>
En tant que marchand, vous devez vous assurer de ne jamais retranscrire en clair des données qui pourraient s’apparenter à un numéro de carte bancaire. Votre formulaire serait rejeté (code 999 - Sensitive data detected).
  </p>
   <p>

  </p>
   <p>
Evitez notamment les numéros de commandes de longueur comprise entre 13 et 16 caractères numériques et commençant par 3, 4 ou 5.
  </p>
 <!-- emm1405084624469.xml -->
 <h2>
 Utiliser une i-frame
</h2>
  <p>
Une i-frame (in line frame) est utilisée pour afficher une page web dans une autre page web.
 </p>
   <p>

 </p>
 <p>

 </p>
   <p>

 </p>
  <p>

<u>Exemples de codes</u> :
 </p>
  <!-- tla1423737652888.xml -->
 <h2>
 Gérer les paramètres de votre boutique par fichier de configuration
</h2>
  <p>
L&#x27;utilisation d&#x27;un fichier de configuration permet d&#x27;éviter de mettre des valeurs en dur dans le code.
 </p>
  <p>
Les fichiers de configuration peuvent contenir :
 </p>
  <p>
  <ul>
   <li>
l&#x27;URL de la page de paiement, 
  </li>
   <li>
la valeur du certificat, 
  </li>
   <li>
la valeur de l&#x27;identifiant de la boutique,
  </li>
   <li>
etc...
  </li>
 
 </ul>
 
 </p>
  <p>
Ces fichiers permettent de typer les données à sauvegarder.
 </p>
  <p>
Le programme qui génère le formulaire de paiement appelera le fichier de configuration avec le paramètre pour utiliser la valeur.
 </p>
  <p>
Il incombe au marchand de s&#x27;assurer :
 </p>
  <p>
  <ul>
   <li>
des droits sur le fichier pour ne pas qu&#x27;il soit accessible de l&#x27;exterieur.
  </li>
   <li>
de répondre aux spécificités liées au langage de programmation utilisé.
  </li>
 
 </ul>
 
 </p>
  <p>

<u>Exemple de fichier de configuration &quot;conf.txt&quot;</u> :
 </p>
  <p>

<u>Exemple d&#x27;appel de fichier de configuration dans le formulaire de paiement</u> :
 </p>
 <!-- emm1405085350214.xml -->
<h1>
Paramétrer les notifications
</h1>
  <p>
Le Back Office permet de gérer les événements qui génèreront un appel vers le site marchand et de configurer l’URL de la page à contacter.
</p>
 <p>
Les schémas suivants illustrent, pour chaque événement, le statut de la transaction envoyé dans la notification.
</p>
 <p>
La légende adoptée pour chacun est la suivante : 
</p>
 <p>
 Action du marchand nécessaire - manuelle (Back Office) ou automatique (webservice)
</p>
 <p>
 Action de l&#x27;acheteur
</p>
 <!-- tla1426244216726.xml -->
 <h2>
 Notifications des différents statuts pour un paiement comptant
		immédiat
</h2>
  <p>
Diagramme de flux - Paiement comptant immédiat
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437643182518.image" alt="tla1437643182518.image"/>  <p>

 </p>
  <p>
  <table>
         <tr>
    <td>
Evénement 
   </td>
    <td>
Statut notifé
   </td>
    <td>
Nom de la règle à paramétrer
   </td>
 
  </tr>
     <tr>
    <td>
Abandon par l&#x27;acheteur
   </td>
    <td>
ABANDONED
   </td>
    <td>
URL de notification sur annulation
   </td>
 
  </tr>
   <tr>
    <td>
Annulation par le marchand
   </td>
    <td>
CANCELED
   </td>
    <td>
URL de notification sur une opération en provenance du Back Office
   </td>
 
  </tr>
   <tr>
    <td>
Réponse à la demande d&#x27;autorisation
   </td>
    <td>
AUTHORISED_TO_VALIDATE, AUTHORISED, REFUSED 
   </td>
    <td>
URL de notification à la fin du paiement
   </td>
 
  </tr>
   
 </table>
 
 </p>
  <p>

 </p>
 <!-- tla1426244313840.xml -->
 <h2>
 Notifications des différents statuts pour un paiement comptant
		différé
</h2>
  <p>
Diagramme de flux - Paiement comptant différé
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437643280219.image" alt="tla1437643280219.image"/>  <p>
Δ : durée de validité d&#x27;autorisation.
 </p>
  <p>
  <table>
         <tr>
    <td>
Evénement 
   </td>
    <td>
Statut notifé
   </td>
    <td>
Nom de la règle à paramétrer
   </td>
 
  </tr>
     <tr>
    <td>
Abandon par l&#x27;acheteur
   </td>
    <td>
ABANDONED
   </td>
    <td>
URL de notification sur annulation
   </td>
 
  </tr>
   <tr>
    <td>
Annulation par le marchand
   </td>
    <td>
CANCELED
   </td>
    <td>
URL de notification sur une opération en provenance du Back Office
   </td>
 
  </tr>
   <tr>
    <td>
Validation par le marchand
   </td>
    <td>
WAITING_AUTHORISATION
   </td>
    <td>
URL de notification sur une opération en provenance du Back Office
   </td>
 
  </tr>
   <tr>
    <td>
Réponse à la demande d&#x27;autorisation à 
   </td>
    <td>
REFUSED, WAITING_AUTHORISATION, WAITING_AUTHORISATION_TO_VALIDATE
   </td>
    <td>
URL de notification à la fin du paiement
   </td>
 
  </tr>
   <tr>
    <td>
Réponse à la demande d&#x27;autorisation
   </td>
    <td>
AUTHORISED, REFUSED, AUTHORISED_TO_VALIDATE
   </td>
    <td>
URL de notification sur autorisation par batch
   </td>
 
  </tr>
   
 </table>
 
 </p>
 <!-- tla1426244392911.xml -->
 <h2>
 Notifications des différents statuts pour les échéances d&#x27;un paiement en
		plusieurs fois
</h2>
  <p>
Diagramme de flux - Echéances d&#x27;un paiement en plusieurs fois
 </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1437643349015.image" alt="tla1437643349015.image"/>  <p>
Δ : durée de validité d&#x27;autorisation.
 </p>
  <p>

 </p>
  <p>
  <table>
         <tr>
    <td>
Evénement 
   </td>
    <td>
Statut notifé
   </td>
    <td>
Nom de la règle à paramétrer
   </td>
 
  </tr>
     <tr>
    <td>
Annulation par le marchand
   </td>
    <td>
CANCELED
   </td>
    <td>
URL de notification sur une opération en provenance du Back Office
   </td>
 
  </tr>
   <tr>
    <td>
Réponse à la demande d&#x27;autorisation
   </td>
    <td>
AUTHORISED, REFUSED 
   </td>
    <td>
URL de notification sur autorisation par batch
   </td>
 
  </tr>
   
 </table>
 
 </p>
 <!-- tla1437400690314.xml -->
 <h2>
 Configurer les notifications
</h2>
  <p>
Plusieurs types de notifications sont mises à disposition dans le Back Office. Elle permettent de gérer les évènements (abandon par l&#x27;acheteur, annulation par le marchand, validation par le marchand...) qui génèreront un appel vers le site marchand et de configurer l&#x27;URL de la page à contacter.
 </p>
  <p>
Pour accéder à la gestion des règles de notification : 
 </p>
  <p>
  <ol>
   <li>
Connectez-vous à : <a href="https://secure.payzen.eu/vads-merchant/">https://secure.payzen.eu/vads-merchant/</a>.
  </li>
   <li>
Allez dans le menu : 
<b>Paramétrage</b> &gt; 
<b>Règles de notifications</b>.   <p>
Règles de notification
  </p>
<img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1425653374072.image" alt="ListeURLNotification"/><img src="/Users/greg/Projects/dita-tools/data/dita/content/authoring/tla1444725978675.image" alt="ListeURLNotificationSepaAll"/>
  </li>
 
 </ol>
 
 </p>
 <!-- emm1405085388157.xml -->
<!-- tla1406037302300.xml -->
<!-- tla1406039141891.xml -->
<!-- vin1426004375534.xml -->
<!-- tla1424363402385.xml -->
<!-- tla1424437576553.xml -->
<!-- tla1433144988275.xml -->
<!-- tla1433405116487.xml -->
<!-- emm1405083451541.xml -->
<h1>
Générer un formulaire de paiement
</h1>
 <p>
Pour générer une demande de paiement, vous devez construire un formulaire html comme suit :
</p>
 <p>

</p>
 <p>
Il contient:
</p>
 <p>

</p>
 <p>

<u>Les éléments techniques suivants : </u>
</p>
 <p>
 <ul>
  <li>
Les balises  <code>
&lt;form&gt;
 </code>
 et  <code>
&lt;/form&gt;
 </code>
 qui permettent de créer un formulaire HTML.
 </li>
  <li>
L’attribut  <code>
method=&quot;POST&quot;
 </code>
 qui spécifie la méthode utilisée pour envoyer les données.
 </li>
  <li>
L’attribut  <code>
action=&quot;<a href="https://secure.payzen.eu/vads-payment/">https://secure.payzen.eu/vads-payment/</a>&quot;
 </code>
 qui spécifie où envoyer les données du formulaire.
 </li>
 
</ul>
 
</p>
 <p>

</p>
 <p>

<u>Les données du formulaire :</u>
</p>
 <p>
 <ul>
  <li>
L’identifiant de la boutique,
 </li>
  <li>
Les caractéristiques du paiement en fonction du cas d’utilisation(voir chapitres suivants),
 </li>
  <li>
Les informations complémentaires en fonction de vos besoins (voir chapitre 
<b>Utiliser des fonctions complémentaires</b> ),
 </li>
  <li>
La signature qui assure l&#x27;intégrité du formulaire (voir chapitre 
<b>Calculer la signature</b>).
 </li>
 
</ul>
 
</p>
 <p>

</p>
 <p>
Ces données sont ajoutées au formulaire en utilisant la balise <code>
&lt;input&gt;
</code>
:
</p>
 <p>
<code>
&lt;input type=&quot;hidden&quot; name=&quot;parametre1&quot; value=&quot;valeur1&quot; /&gt;
</code>

</p>
 <p>

</p>
 <p>
Pour valoriser les attributs <code>
name
</code>
 et <code>
value
</code>
 , référez-vous au chapitre 
<b>Dictionnaire de données</b>.
</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>
Toutes les données du formulaire doivent être encodées en 
<b>UTF-8. </b>
</p>
 <p>
Les caractères spéciaux (accents, ponctuation etc…) seront ainsi correctement interprétés par la plateforme de paiement. Dans le cas contraire, le calcul de signature sera erroné et le formulaire sera rejeté.
</p>
 <p>

</p>
 <p>

<u>Le bouton 
<b>Payer</b> qui va permettre l’envoi des données :</u>
</p>
 <p>
<code>
&lt;input type=&quot;submit&quot; name=&quot;payer&quot; value=&quot;Payer&quot;/&gt;
</code>

</p>
 <p>

</p>
 <p>
Des cas d’utilisation sont présentés dans les chapitres suivants. Ils vous permettront de construire votre formulaire de paiement en fonction de vos besoins.
</p>
 <p>
  <ul>
  <li>
Créer un paiement comptant immédiat.
 </li>
  <li>
Créer un paiement comptant différé.
 </li>
  <li>
Créer un paiement en plusieurs fois.
 </li>
  <li>
Créer une autorisation sans remise.
 </li>
 
</ul>
 
</p>
 <!-- emm1405086126734.xml -->
<!-- tla1406042467751.xml -->
<!-- tla1406043754066.xml -->
<!-- tla1406101311911.xml -->
<!-- tla1406101932153.xml -->
<h1>
Utiliser des fonctions complémentaires
</h1>
 <!-- tla1406104794231.xml -->
<!-- tla1406107315964.xml -->
<!-- tla1406107961818.xml -->
<!-- tla1406108665877.xml -->
<!-- tla1406109053093.xml -->
<!-- tla1406109756086.xml -->
<!-- tla1406110492095.xml -->
 <h2>
 Gérer le retour vers le site marchand
</h2>
  <p>
A la fin du paiement, l’acheteur a la possibilité de revenir sur le site marchand sur une page appelée 
<b>URL de retour</b>. 
 </p>
  <p>
A ne pas confondre avec l’
<b>URL de notification instantanée (également appelée IPN)</b> (voir chapitre 
<b><a href="#TODO-emm1405084980499.xml">Gérer le dialogue vers le site marchand</a></b>). 
 </p>
 <!-- tla1406110787965.xml -->
  <h3>
  Définir les URL de retour
</h3>
    <p>
Dans le formulaire de paiement, le marchand peut surcharger la configuration du Back Office. Pour cela il peut:
  </p>
   <p>
   <ul>
    <li>
Utiliser 4 URL différentes en fonction du résultat du paiement:   <ul>
     <li>
Paiement accepté.
    </li>
     <li>
Paiement refusé.
    </li>
     <li>
Paiement abandonné.
    </li>
     <li>
Paiement en erreur.
    </li>
 
   </ul>

   </li>
    <li>
Utiliser une seule URL quel que soit le résultat du paiement.
   </li>
 
  </ul>
 
  </p>
 <!-- tla1406112125569.xml -->
<!-- tla1406112532368.xml -->
<!-- tla1406115871410.xml -->
<!-- tla1406117141853.xml -->
<!-- tla1406117692857.xml -->
 <h2>
 Personnaliser la page de paiement
</h2>
  <p>
Vous pouvez personnaliser certains éléments de la page de paiement:
 </p>
  <p>
  <ul>
   <li>
les moyens de paiement proposés au moment du paiement,
  </li>
   <li>
la langue dans laquelle seront affichées les pages de paiement,
  </li>
   <li>
les langues proposées à l’acheteur sur les pages de paiement (drapeaux),
  </li>
   <li>
le nom et l’url de la boutique,
  </li>
   <li>
le libellé du bouton 
<b>Retourner à la boutique</b>.
  </li>
 
 </ul>
 
 </p>
  <p>

 </p>
  <p>
En souscrivant à l&#x27;option 
<b>personnalisation avancée</b>, vous pourrez modifier la page de paiement afin de la rendre visuellement proche de votre site marchand. Ceci aura pour effet de conforter l’acheteur et d’instaurer une confiance lors de la redirection pour procéder au paiement. Référez-vous au &quot;manuel utilisateur de la personnalisation avancée&quot; disponible sur le site documentaire <a href="https://www.payzen.eu/support/integration-payzen/">https://www.payzen.eu/support/integration-payzen/</a>.
 </p>
 <!-- tla1406118103194.xml -->
<!-- tla1406125668071.xml -->
<!-- tla1406126865107.xml -->
<!-- tla1406129461393.xml -->
<!-- tla1406129791136.xml -->
<!-- tla1406130055504.xml -->
<!-- tla1406100007665.xml -->
<!-- emm1405088305497.xml -->
<!-- tla1406131496729.xml -->
<!-- tla1406132636881.xml -->
<!-- emm1405088387247.xml -->
<h1>
Envoyer la demande de paiement
</h1>
 <p>
Pour chaque transaction, l’acheteur doit être redirigé vers la page de paiement afin de finaliser son achat.
</p>
 <p>
Son navigateur doit transmettre les données du formulaire de paiement.
</p>
 <!-- emm1405088418431.xml -->
 <h2>
 Rediriger l&#x27;acheteur vers la page de paiement
</h2>
  <p>
L’URL de la plateforme de paiement est la suivante :  <table>
      <tr>
    <td>
<a href="https://secure.payzen.eu/vads-payment/">https://secure.payzen.eu/vads-payment/</a>
   </td>
 
  </tr>
   
 </table>

 </p>
  <p>

<u>Exemple de paramètres envoyés à la plateforme de paiement</u>:
 </p>
 <!-- emm1405088431924.xml -->
 <h2>
 Gérer les erreurs
</h2>
  <p>
Si la plateforme détecte une anomalie lors de la réception du formulaire, un message d’erreur sera affiché et l’acheteur ne pourra pas procéder au paiement. 
 </p>
  <p>

 </p>
  <p>

 </p>
  <p>

<u>En mode TEST</u>
 </p>
  <p>
Le message indique l’origine de l’erreur et propose un lien vers la FAQ pour vous aider à la corriger. 
 </p>
  <p>

 </p>
  <p>

 </p>
  <p>

<u>En mode PRODUCTION</u>
 </p>
  <p>
Le message indique simplement à l’acheteur qu’un problème technique est survenu.
 </p>
  <p>

 </p>
  <p>
Dans les deux cas, le marchand reçoit un e-mail d&#x27;avertissement.
 </p>
  <p>
Il contient: <ul>
   <li>
l’origine de l’erreur
  </li>
   <li>
un lien vers la FAQ pour faciliter le diagnostic
  </li>
   <li>
l’ensemble des champs contenus dans le formulaire.
  </li>
 
 </ul>

 </p>
  <p>
 
 </p>
  <p>
La FAQ est disponible à cette adresse : <a href="https://secure.payzen.eu/html/error_code/">https://secure.payzen.eu/html/error_code/</a>
 </p>
 <!-- emm1405088484151.xml -->
<h1>
Analyser le résultat du paiement
</h1>
 <p>
Pour traiter le résultat des paiements, le site marchand doit disposer d&#x27;un script sur une page dédiée (exemple : analyse_paiement.php).
</p>
 <p>
Cette page sera appelée automatiquement après chaque paiement (accepté ou refusé) : les paramètres liés au résultat du paiement sont envoyés en mode POST par la plateforme de paiement.
</p>
 <p>

</p>
 <p>

<b>Prérequis :</b>
</p>
 <p>
 <ul>
  <li>
L&#x27;URL de la page qui analyse le résultat du paiement devra obligatoirement être renseignée dans le Back Office (voir chapitre 
<b>Paramétrer les notifications</b> 
 </li>
 
</ul>
 
</p>
  <p>
 <ul>
  <li>
Le marchand doit s&#x27;assurer que cette URL soit joignable par la plateforme de paiement et ce, sans redirection.  <p>
Les redirections entrainent la perte des données présentes dans le POST.
 </p>

 </li>
 
</ul>
 
</p>
 <p>
 <ul>
  <li>
En cas de restriction mise en place du côté du site marchand, il faudra autoriser la plage d&#x27;adresses d&#x27;IP 
<b>194.50.38.0/24</b>.
 </li>
 
</ul>
 
</p>
 <p>
 <ul>
  <li>
La page ne devra pas comporter d&#x27;affichage HTML.  <p>
L&#x27;accès aux ressources telles que les images ou feuilles de styles peuvent ralentir les échanges entre la plateforme de paiement et le site marchand.
 </p>
 <p>
De plus, la plateforme lit systématiquement les 512 premiers caractères retournés par le site marchand.
 </p>
Ces caractères sont ensuite affichés dans l&#x27;historique des transactions.
 </li>
 
</ul>
 
</p>
 <p>
 <ul>
  <li>
Evitez au maximum d&#x27;intégrer des tâches consommatrices de temps comme la génération de facture ou l&#x27;envoi d&#x27;e-mail dans ce script. <p>
Le temps du traitement influe directement sur le délai de l’affichage de la page de résumé du paiement. Plus le traitement de la notification est long, plus l’affichage est retardé. 
 </p>
 <p>
Au delà de 35s, la plateforme considèrera que l&#x27;appel a échoué (timeout).
 </p>

 </li>
 
</ul>
 
</p>
 <p>

</p>
 <p>

</p>
 <p>

<b>Echec de notification (IPN)</b>
</p>
 <p>
En cas d&#x27;échec de l&#x27;appel à l’URL de notification (IPN), un e-mail d&#x27;avertissement est envoyé à l’adresse spécifiée dans le Back Office (voir chapitre 
<b>Paramétrer les notifications</b>).
</p>
 <p>
 
</p>
 <p>
Il contient : 
</p>
 <p>
 <ul>
  <li>
le code HTTP de l’erreur rencontrée,
 </li>
  <li>
des éléments d’analyses en fonction de l’erreur,
 </li>
  <li>
la procédure à suivre depuis le Back Office pour renvoyer la notification. 
 </li>
 
</ul>
 
</p>
 <p>

</p>
 <p>

</p>
 <p>

<b>Concevoir le script de traitement</b>
</p>
 <p>
Le script de traitement devra comporter au moins les étapes ci-dessous:
</p>
 <p>
 <ul>
  <li>
Récupérer la liste des champs présents dans la réponse envoyée en POST
 </li>
  <li>
Calculer la signature
 </li>
  <li>
Comparer la signature calculée avec celle réceptionnée
 </li>
  <li>
Analyser la nature de la notification
 </li>
  <li>
Récupérer le résultat du paiement 
 </li>
 
</ul>
 
</p>
 <p>

</p>
 <p>
Le script peut par exemple tester l&#x27;état de la commande (ou l&#x27;information de votre choix) pour vérifier qu&#x27;elle n&#x27;ait pas déja été mise à jour.
</p>
 <p>
Une fois ces étapes réalisées, le script peut mettre à jour la base de données (nouvel état de la commande, mise à jour du stock, enregistrement des informations du paiement etc...).
</p>
 <p>

</p>
 <p>

</p>
  <!-- emm1405088797336.xml -->
 <h2>
 Récupérer les données retournées dans la réponse
</h2>
  <p>
Les données retournées dans la réponse dépendent des paramètres envoyés dans le formulaire de paiement, du type de paiement réalisé et des options de votre boutique. Ces données constituent une liste de champs. Chaque champ contient une valeur réponse. La liste de champs peut être amenée à évoluer.
 </p>
  <p>

 </p>
  <p>
Les données sont toujours envoyées en 
<b>POST</b> par la plateforme de paiement.
 </p>
 <!-- emm1405088825989.xml -->
<!-- emm1405088844323.xml -->
 <h2>
 Comparer les signatures
</h2>
  <p>
Pour s’assurer de l’intégrité de la réponse, vous devez comparer la valeur du champ 
<b>signature</b> reçue dans la réponse, avec celle calculée à l’étape précédente. 
 </p>
  <p>

 </p>
  <p>
Si les signatures correspondent,  <ul>
   <li>
alors vous pouvez considérer la réponse comme sûre et procéder à la suite de l’analyse.
  </li>
   <li>
sinon, le script devra lever une exception et avertir le marchand de l&#x27;anomalie (voir chapitre 
<b>Traiter les erreurs</b>.
  </li>
 
 </ul>

 </p>
  <p>

 </p>
  <p>
Les signatures ne correspondent pas en cas : 
 </p>
  <p>
  <ul>
   <li>
d’erreur d&#x27;implémentation (erreur dans votre calcul, problème d’encodage UTF8, etc.).
  </li>
   <li>
d’erreur dans la valeur du certificat utilisé ou dans celle du champ 
<b>vads_ctx_mode</b> (problème fréquent lors du passage en production).
  </li>
   <li>
de tentative de corruption des données. 
  </li>
 
 </ul>
 
 </p>
 <!-- emm1411575961770.xml -->
 <h2>
 Analyser la nature de la notification
</h2>
  <p>
Le champ 
<b>vads_url_check_src</b> permet de différencier les notifications en fonction de leur évènement déclencheur :
 </p>
  <p>
  <ul>
 
 </ul>
 
 </p>
  <p>
Il précise la règle de notification appliquée : <table>
        <tr>
    <td>
Valeur
   </td>
    <td>
Règle appliquée
   </td>
 
  </tr>
     <tr>
    <td>

<b>PAY</b>
   </td>
    <td>
    <p>
La valeur PAY sera envoyée dans les cas suivants :   <ul>
 
   </ul>

   </p>
 
   </td>
 
  </tr>
   <tr>
    <td>

<b>BO</b>
   </td>
    <td>
Exécution de la notification depuis le Back Office (clic droit sur une transaction &gt; 
<b>Executer l&#x27;url de notification</b>).
   </td>
 
  </tr>
   <tr>
    <td>

<b>BATCH_AUTO</b>
   </td>
    <td>
   <p>
La valeur BATCH_AUTO sera envoyée dans les cas suivants:   <ul>
     <li>
paiement différé à plus de 7 jours
    </li>
     <li>
échéances d&#x27;un paiement en plusieurs fois (hormis la première)    <p>
uniquement si le marchand a configuré la règle 
<b>URL de notification sur autorisation par batch</b>. 
    </p>

    </li>
 
   </ul>

   </p>
   <p>

   </p>
   <p>
La notification sera envoyée lors de la demande d’autorisation d&#x27;un paiement dont le statut est &quot;En attente d’autorisation&quot;.
   </p>

   </td>
 
  </tr>
   <tr>
    <td>

<b>REC</b>
   </td>
    <td>
   <p>
La valeur REC sera envoyée uniquement pour les paiements par abonnement si le marchand a configuré la règle 
<b>URL de notification à la création d&#x27;un paiement par récurrence</b>.
   </p>

   </td>
 
  </tr>
   <tr>
    <td>

<b>MERCH_BO</b>
   </td>
    <td>
La valeur MERCH_BO sera envoyée :   <p>
    <ul>
     <li>
lors d&#x27;une opération réalisée depuis le Back Office (remboursement, modification, validation, duplicata), si le marchand a configuré la règle de notification : 
<b>URL de notification sur une opération provenant du Back Office</b>
    </li>
     <li>
lors d&#x27;une annulation réalisée depuis le Back Office, si le marchand a configuré la règle de notification : 
<b>URL de notification sur annulation</b>
    </li>
 
   </ul>
 
   </p>

   </td>
 
  </tr>
   
 </table>

 </p>
  <p>
En testant sa valeur, le script pourra réaliser un traitement différent en fonction de la nature de la notification.
 </p>
  <p>

<u>Par exemple :</u>
 </p>
  <p>
Si 
<b>vads_url_check_src</b> est valorisé à 
<b>PAY</b> ou 
<b>BATCH_AUTO</b> alors le script mettra à jour le statut de la commande, ...
 </p>
  <p>
Si 
<b>vads_url_check_src</b> est valorisé à 
<b>REC</b> alors le script récupèrera la référence de l&#x27;abonnement et incrémentera le nombre d&#x27;échéances échues en cas de paiement accepté, ...
 </p>
 <!-- emm1412779631523.xml -->
 <h2>
 Identifier le type d&#x27;opération
</h2>
  <p>
Le champ 
<b>vads_operation_type</b> permet de différencier :
 </p>
  <p>
  <ul>
   <li>
une opération de débit.
  </li>
   <li>
une opération de remboursement.
  </li>
 
 </ul>
 
 </p>
  <p>
  <table>
        <tr>
    <td>
Valeur
   </td>
    <td>
Description
   </td>
 
  </tr>
     <tr>
    <td>

<b>DEBIT</b>
   </td>
    <td>
Opération de débit.
   </td>
 
  </tr>
   <tr>
    <td>

<b>CREDIT</b>
   </td>
    <td>
Opération de remboursement.
   </td>
 
  </tr>
   
 </table>
 
 </p>
  <p>

<u>Par exemple :</u>
 </p>
  <p>
Si 
<b>vads_operation_type</b> est valorisé à 
<b>DEBIT</b>, le script met à jour la commande et enregistre les informations de la transaction.
 </p>
  <p>
Si 
<b>vads_operation_type</b> est valorisé à 
<b>CREDIT</b>, le script met à jour le montant payé ou ajoute une nouvelle ligne de transaction dans la commande.
 </p>
 <!-- emm1411733020401.xml -->
<!-- emm1415811227559.xml -->
 <h2>
 Traiter les erreurs
</h2>
  <p>

<u>Mise en place d&#x27;un fichier de log</u>
 </p>
  <p>
Durant la phase d&#x27;implémentation, il sera utile de disposer de logs notamment en cas de difficultés pour calculer la signature.
 </p>
  <p>
Nous conseillons toutefois de mettre en place un fichier de log journalier même après la mise en production du site marchand. 
 </p>
  <p>
Cela vous permettra d&#x27;analyser les données en cas de problèmes.
 </p>
  <p>
Idéalement le fichier de log devra contenir les données envoyées ou reçues, la chaîne obtenue lors du calcul de signature, avant l&#x27;application de l&#x27;algorithme SHA-1.
 </p>
  <p>

<u>Code d&#x27;erreur HTTP</u> 
 </p>
  <p>
En cas d&#x27;erreur durant les notifications, l&#x27;e-mail d&#x27;avertissement envoyé précise le code retour du protocole HTTP.
 </p>
  <p>
Il existe 5 catégories de codes retour :
 </p>
  <p>
  <table>
       <tr>
    <td>
Catégorie de codes 
   </td>
    <td>
Description
   </td>
 
  </tr>
     <tr>
    <td>
1XX
   </td>
    <td>
Information
   </td>
 
  </tr>
   <tr>
    <td>
2XX
   </td>
    <td>
Succès
   </td>
 
  </tr>
   <tr>
    <td>
3XX
   </td>
    <td>
Redirection
   </td>
 
  </tr>
   <tr>
    <td>
4XX
   </td>
    <td>
Erreur du client
   </td>
 
  </tr>
   <tr>
    <td>
5XX
   </td>
    <td>
Erreur du serveur
   </td>
 
  </tr>
   
 </table>
 
 </p>
  <p>
Les codes d&#x27;erreur les plus fréquemment retournés sont décrits dans la FAQ 
 </p>
  <p>

<b>Erreur fréquente</b> : 
 </p>
  <p>
Un fichier htaccess peut bloquer l&#x27;appel à l&#x27;URL de notification instantanée. 
 </p>
  <p>
Les fichiers .htaccess sont des fichiers de configuration des serveurs web Apache. Ils peuvent être placés dans n&#x27;importe quel répertoire du site marchand (la configuration s&#x27;applique au répertoire et à tous ceux qu&#x27;il contient n&#x27;ayant pas de tel fichier à l&#x27;intérieur).
 </p>
 <!-- emm1415803124513.xml -->
<h1>
Traiter le retour à la boutique
</h1>
 <p>
Par défaut, lorsque l&#x27;acheteur revient sur le site marchand, aucun paramètre n&#x27;est transmis par son navigateur.
</p>
 <p>
Néanmoins si le champ 
<b>vads_return_mode</b> a été transmis dans le formulaire de paiement (voir chapitre 
<b>Gérer le retour vers le site marchand</b> 
</p>
 <ul>
  <li>
soit en GET : données présentes dans l’url sous la forme : ?param1=valeur1&amp;param2=valeur2.
 </li>
  <li>
soit en POST : données envoyées dans un formulaire POST.
 </li>
 
</ul>
 <p>

</p>
 <p>
Les données transmises au navigateur sont les mêmes que lors des notifications (IPN).
</p>
 <p>
Seuls les champs 
<b>vads_url_check_src</b> et 
<b>vads_hash</b> ne seront envoyés que dans la notification instantanée.
</p>
 <p>

</p>
 <p>
Vous pouvez vous référer au chapitre 
<b>Analyser le résultat du paiement</b> pour analyser ces données.
</p>
 <p>

</p>
 <p>

</p>
 <p>

<b>Remarque</b> : le retour à la boutique doit vous permettre uniquement d&#x27;afficher un contexte visuel à l&#x27;acheteur. N&#x27;utilisez pas les données reçues pour effectuer le traitement en base de données. 
</p>
 <!-- emm1405088934849.xml -->
<h1>
Procéder à la phase de test
</h1>
 <p>
Préalablement au passage en production de la boutique, il est nécessaire de réaliser des tests pour s’assurer du bon fonctionnement entre le site marchand et la plateforme de paiement.
</p>
 <p>
Ces tests doivent impérativement être réalisés avant de demander le passage en production. 
</p>
 <!-- tla1410335135439.xml -->
 <h2>
 Réaliser des tests de paiement
</h2>
  <p>
Les demandes de paiement de test adressées via le formulaire HTTP POST doivent:
 </p>
  <p>
  <ul>
   <li>
Contenir la donnée 
<b>vads_ctx_mode</b> valorisée à 
<b>TEST</b>. 
  </li>
   <li>
Utiliser 
<b>le certificat de test</b> précédemment récupéré pour le calcul de la signature. 
  </li>
 
 </ul>
 
 </p>
  <p>
En phase de test, le marchand peut tester les configurations 3D Secure (si ce dernier est enrôlé 3DS et si l’option 3DS n’est pas désactivée).
 </p>
  <p>
Différents cas de paiements peuvent être simulés en utilisant les numéros de carte de test précisés sur la page de paiement.
 </p>
  <p>
Toutes les transactions réalisées en mode test sont consultables par les personnes habilitées à utiliser le Back Office à l’adresse suivante : <table>
      <tr>
    <td>
<a href="https://secure.payzen.eu/vads-merchant/">https://secure.payzen.eu/vads-merchant/</a>
   </td>
 
  </tr>
   
 </table>

 </p>
  <p>
Ces transactions sont consultables depuis le menu 
<b>Gestion &gt;Transaction de test</b> situé en haut à gauche du Back Office.
 </p>
 <!-- tla1410339647667.xml -->
 <h2>
 Tester l&#x27;URL de notification instantanée (IPN)
</h2>
  <p>
Vérifiez tout d&#x27;abord l&#x27;état de l&#x27;URL de notification instantanée (également appelée IPN) dans le Back Office.
 </p>
  <p>
Pour cela:
 </p>
  <p>
  <ol>
   <li>
Effectuez un clic droit sur une transaction.
  </li>
   <li>
Sélectionnez 
<b>Afficher le détail de la transaction</b>.
  </li>
   <li>
Vérifiez le statut de l&#x27;URL de notification instantanée (IPN).   <ul>
    <li>
Dans le cas où le statut est 
<b>Envoyé</b>, cela signifie que vous avez correctement renseigné l&#x27;URL dans le Back Office. 
   </li>
    <li>
Dans le cas où le statut apparaît en 
<b>URL non définie</b>, cela signifie que vous n&#x27;avez pas renseigné l&#x27;URL dans le Back Office.    <ol>
     <li>
Vérifiez l&#x27;adresse de l&#x27;URL de notification instantanée saisie en mode TEST et PRODUCTION. 
    </li>
     <li>
Cliquez sur 
<b>Paramétrage</b> &gt; 
<b>Règles de notification</b>.
    </li>
     <li>
Renseignez l&#x27;URL de notification de paiement instantanée (URL de notification à la fin du paiement).     <p>
Ne saisissez pas une adresse en &quot;localhost&quot;. L&#x27;appel à cette l&#x27;URL se fait de serveur à serveur.
    </p>

    </li>
     <li>
Cliquez sur 
<b>Sauvegarder</b>.
    </li>
 
   </ol>

   </li>
 
  </ul>
  <ul>
    <li>
Dans le cas où le statut est 
<b>Echoué</b>, se reporter au chapitre 
<b>Traiter les erreurs</b>.
   </li>
 
  </ul>

  </li>
 
 </ol>
 
 </p>
 <!-- emm1405088970747.xml -->
<h1>
Activer la boutique en mode production
</h1>
 <p>
Ce chapitre vous détaille de quelle manière vous pouvez :
</p>
 <ul>
  <li>
Générer le certificat de production.
 </li>
  <li>
Basculer votre site marchand en production.
 </li>
  <li>
Réaliser un premier paiement en production.
 </li>
  <li>
Régénérer le certificat de production (en cas de problème).
 </li>
 
</ul>
 <!-- emm1405089000731.xml -->
 <h2>
 Générer le certificat de production
</h2>
  <p>
Vous pouvez générer le certificat de production depuis le menu 
<b>Paramétrage</b> &gt; 
<b>Boutique</b> &gt; Onglet 
<b>Certificats</b> &gt; bouton 
<b>Générer le certificat de production</b>.
 </p>
  <p>
Une fois le certificat de production généré, sa valeur apparaît sous l&#x27;onglet 
<b>Certificats</b>.
 </p>
  <p>
Un e-mail est envoyé à l&#x27;interlocuteur en charge du dossier (responsable administratif de la société) pour lui confirmer la génération du certificat de production.
 </p>
 <!-- emm1405089022352.xml -->
 <h2>
 Basculer le site marchand en production
</h2>
  <p>
  <ol>
   <li>
Valorisez le champ 
<b>vads_ctx_mode</b> à 
<b>PRODUCTION</b>.
  </li>
   <li>
Modifiez la valeur du certificat de test avec la valeur de votre certificat de production pour calculer la signature.
  </li>
   <li>
Renseignez correctement l&#x27;URL de notification de paiement instantanée (URL server à la fin du paiement) en mode PRODUCTION depuis le menu 
<b>Paramétrage</b> &gt; 
<b>Règles de notification</b>.
  </li>
 
 </ol>
 
 </p>
 <!-- emm1405089047266.xml -->
 <h2>
 Réaliser un premier paiement de production
</h2>
  <p>
Nous vous conseillons de vérifier les deux points suivants :
 </p>
  <p>
  <ul>
   <li>
Le bon fonctionnement en environnement de production de bout-en-bout.   <p>
Pour ce faire, effectuez une transaction réelle.
  </p>
  <p>
Cette transaction pourra être annulée par la suite depuis le Back Office via le menu 
<b>Gestion</b> &gt; 
<b>Transaction</b> &gt; onglet 
<b>Paiements en cours</b>. Cette transaction ne sera donc pas remise en banque.
  </p>

  </li>
 
 </ul>
 
 </p>
  <p>
  <ul>
   <li>
Le bon fonctionnement de l&#x27;URL de notification de paiement instantanée (Url de notification à la fin du paiement) renseignée dans le Back Office.   <p>
Pour ce faire, ne cliquez pas sur le bouton 
<b>Retour à la boutique</b> après un paiement. 
  </p>
  <p>
Affichez le détail de la transaction dans le Back Office et vérifiez que le statut de l&#x27;URL de notification instantanée (Statut URL de notification) est bien 
<b>Envoyé.</b>
  </p>

  </li>
 
 </ul>
 
 </p>
 <!-- tla1408545933061.xml -->
<!-- tla1408546168107.xml -->
<h1>
FAQ
</h1>
 <p>
Une FAQ est disponible sur le
</p>
 <p>
Elle répertorie les questions fréquemment posées au sujet des codes d’erreurs retournés lors de l’envoi du formulaire de paiement.
</p>
 <!-- tla1405002308026.ditamap -->
<!-- tla1408546261318.xml -->
<h1>
Dictionnaire de données
</h1>
 <p>
Le dictionnaire de données présente la liste complète des champs pouvant être utilisés dans le formulaire de paiement.
</p>
 <p>
Il détaille tout d&#x27;abord les principales catégories (telles que les informations techniques, les informations sur la commande...). L&#x27;ensemble des champs appartenant à une catégorie sont présentés. 
</p>
 <p>
Ces tableaux sont présentés de la manière suivante :
</p>
 <p>
 <ul>
  <li>

<b>Nom du champ</b> : nom du paramètre, tel qu&#x27;il sera utilisé dans une requête HTTP.
 </li>
  <li>

<b>Format</b> : format des données, selon la codification suivante: <table>
        <tr>
    <td>
Notation
   </td>
    <td>
Description
   </td>
 
  </tr>
     <tr>
    <td>
a
   </td>
    <td>
Caractères alphabétiques (de ‘A’ à ‘Z’ et de ‘a’ à ‘z’)
   </td>
 
  </tr>
   <tr>
    <td>
n
   </td>
    <td>
Caractères numériques
   </td>
 
  </tr>
   <tr>
    <td>
s
   </td>
    <td>
Caractères spéciaux
   </td>
 
  </tr>
   <tr>
    <td>
an
   </td>
    <td>
Caractères alphanumériques
   </td>
 
  </tr>
   <tr>
    <td>
ans
   </td>
    <td>
Caractères alphanumériques et spéciaux
   </td>
 
  </tr>
   <tr>
    <td>
3
   </td>
    <td>
Longueur fixe de 3 caractères
   </td>
 
  </tr>
   <tr>
    <td>
..12
   </td>
    <td>
Longueur variable jusqu’à 12 caractères
   </td>
 
  </tr>
   
 </table>

 </li>
  <li>

<b>Description</b> : description du champ.
 </li>

</ul>
 
</p>
 <p>

</p>
 <p>

</p>
 <p>

</p>
 <p>
Le dictionnaire de données présente ensuite le détail pour chacun des champs. Chaque champ est décrit de la manière suivante :
</p>
 <p>
 <ul>
  <li>

<b>Description</b> : description du champ.
 </li>
  <li>

<b>Format</b> : format des données (voir tableau 
<b>Liste champs et formats</b> ci-dessus).
 </li>
  <li>

<b>Valeurs possibles</b> : valeurs attendues lorsque le champ doit être valorisé avec des valeurs spécifiques.
 </li>
  <li>

<b>Exemple</b> : exemple de codage correct des données. 
 </li>
  <li>

<b>Code erreur</b> : en cas d’erreur dans l’interfaçage entre le site marchand et la plateforme de paiement, cette dernière indiquera par un code numérique le paramètre fautif dans le champ 
<b>vads_extra_result</b>.
 </li>
  <li>

<b>Remarque</b> : information complémentaire, précision.
 </li>
  <li>

<b>Catégorie</b> : catégorie à laquelle est affilié le champ. <p>

 </p>

 </li>
 
</ul>
 
</p>
 <p>
Précisions sur les 
<b>codes erreur :</b>
</p>
 <p>

<b>Code erreur</b> correspond au numéro de l’erreur lors de la soumission d’un formulaire de paiement incorrect. 
</p>
 <ul>
  <li>
 En mode test ce code sera affiché sur la page de paiement.
 </li>
  <li>
 En mode production un e-mail d’alerte sera envoyé en précisant le code erreur et le nom du paramètre incorrect.
 </li>
 
</ul>
 <p>

</p>
 <p>

<b>
<u>Exemple</u> :</b>
<b> Erreur 09 correspond à une erreur sur le montant. Le montant envoyé ne respecte donc pas le format requis</b>
</p>
 <!-- tla1410350807080.xml -->
 <h2>
 Visualiser les paramètres classés par catégorie
</h2>
  <p>
Référez-vous à la catégorie souhaitée pour obtenir la liste des paramètres sous-jacents.
 </p>
  <p>
  <ul>
   <li>
<a href="#TODO-tla1410351589465.xml">Informations sur l&#x27;authentification 3DS</a>.
  </li>
   <li>
<a href="#TODO-tla1411025757958.xml">Informations sur l&#x27;abonnement</a>.
  </li>
   <li>
<a href="#TODO-tla1410534868650.xml">Informations sur l&#x27;acheteur</a>.
  </li>
   <li>
<a href="#TODO-tla1410533143029.xml">Informations sur le moyen de paiement</a>.
  </li>
   <li>
<a href="#TODO-tla1410525874342.xml">Informations sur la commande</a>.
  </li>
   <li>
<a href="#TODO-tla1410522989073.xml">Informations sur la livraison</a>.
  </li>
   <li>
<a href="#TODO-tla1411030317713.xml">Informations techniques</a>.
  </li>
   <li>
<a href="#TODO-tla1411031267607.xml">Informations sur la transaction</a>.
  </li>
   <li>
<a href="#TODO-tla1416328457246.xml">Informations sur les transactions de don</a>.
  </li>
   <li>
<a href="#TODO-tla1410518407791.xml">Personnalisation de la page de la page de paiement</a>.
  </li>
   <li>
<a href="#TODO-tla1410514133139.xml">Redirection automatique</a>.
  </li>
 
 </ul>
 
 </p>
 <!-- tla1411030317713.xml -->
  <h3>
  Informations techniques
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408640166705.xml">signature</a></b>
    </td>
     <td>
an40
    </td>
     <td>
Permet de vérifier l’intégrité des requêtes. 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1405002307652.xml">vads_action_mode</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Définit le mode d&#x27;acquisition des informations de la carte.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408607954033.xml">vads_contrib</a></b>
    </td>
     <td>
ans..128
    </td>
     <td>
Indique le nom de la contribution utilisée lors du paiement (Joomla, osCommerce...). 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408608221796.xml">vads_ctx_mode</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Mode de communication de la plateforme de paiement
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408624287246.xml">vads_extra_result</a></b>
    </td>
     <td>
n2
    </td>
     <td>
Code complémentaire de réponse. Sa signification dépend de la valeur renseignée dans 
<b>vads_result</b>.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408625090595.xml">vads_hash</a></b>
    </td>
     <td>
an64
    </td>
     <td>
     <p>
Clé unique renvoyée uniquement à l’URL de notification (IPN).
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408626371544.xml">vads_page_action</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Définit l&#x27;opération à réaliser.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1415014254111.xml">
<b>vads_payment_error</b></a>
    </td>
     <td>
n..3
    </td>
     <td>
Codes d&#x27;erreur sur un paiement refusé.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408628157713.xml">vads_result</a></b>
    </td>
     <td>
n2
    </td>
     <td>
Code retour général du résultat du paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408636137772.xml">vads_site_id</a></b>
    </td>
     <td>
n8
    </td>
     <td>
Identifiant du site.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408638807307.xml">
<b>vads_url_check</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL de la page à notifier à la fin du paiement. Surcharge la valeur saisie dans le paramétrage des règles de notification.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408638858037.xml">
<b>vads_url_check_src</b></a>
    </td>
     <td>
string (enum)
    </td>
     <td>
Ce paramètre définit l’origine de l’appel URL de notification (IPN Server).
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408639900969.xml">
<b>vads_version</b></a>
    </td>
     <td>
string
    </td>
     <td>
Version du protocole d’échange avec la plateforme de paiement.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410525874342.xml -->
  <h3>
  Informations sur la commande
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408624169447.xml">vads_ext_info</a></b>
    </td>
     <td>
ans
    </td>
     <td>
Champs personnalisables permettant d&#x27;ajouter des données supplémentaires dans l&#x27;e-mail de confirmation envoyé au marchand et dans l&#x27;URL de notification.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1411125541878.xml">
<b>vads_nb_products</b></a>
    </td>
     <td>
n..12
    </td>
     <td>
Détail du panier. Nombre d’articles.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408626141983.xml">vads_order_id</a></b>
    </td>
     <td>
an..32
    </td>
     <td>
Numéro de commande.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408626234577.xml">vads_order_info</a></b>
    </td>
     <td>
an..255
    </td>
     <td>
Description de la commande.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408626308005.xml">vads_order_info2</a></b>
    </td>
     <td>
an..255
    </td>
     <td>
Description de la commande.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408626336653.xml">vads_order_info3</a></b>
    </td>
     <td>
an..255
    </td>
     <td>
Description de la commande.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1411126075812.xml">
<b>vads_product_amountN</b></a>
    </td>
     <td>
n..12
    </td>
     <td>
Détail du panier. Montant de l’article N
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1411125732485.xml">
<b>vads_product_labelN</b></a>
    </td>
     <td>
an..255
    </td>
     <td>
Détail du panier. Libellé de l’article N.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1411126555396.xml">
<b>vads_product_qtyN</b></a>
    </td>
     <td>
n..12
    </td>
     <td>
Détail du panier. Quantité d’article N.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1411126454471.xml">
<b>vads_product_refN</b></a>
    </td>
     <td>
an..64
    </td>
     <td>
Détail du panier. Référence de l’article N.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1411126340153.xml">
<b>vads_product_typeN</b></a>
    </td>
     <td>
string (enum)
    </td>
     <td>
Détail du panier. Type de l’article N.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1433941223778.xml">
<b>vads_product_vatN</b></a>
    </td>
     <td>
n..12
    </td>
     <td>
Détail du panier. Montant de la TVA de l&#x27;article N.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410534868650.xml -->
  <h3>
  Informations sur l&#x27;acheteur
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408608603787.xml">vads_cust_address</a></b>
    </td>
     <td>
ans..255
    </td>
     <td>
Adresse postale.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408608675071.xml">vads_cust_address_number</a></b>
    </td>
     <td>
an..5
    </td>
     <td>
Numéro de rue.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408608769950.xml">vads_cust_cell_phone</a></b>
    </td>
     <td>
an..32
    </td>
     <td>
Numéro de téléphone mobile.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408614379476.xml">vads_cust_city</a></b>
    </td>
     <td>
an..128
    </td>
     <td>
Ville.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408614445899.xml">vads_cust_country</a></b>
    </td>
     <td>
a2
    </td>
     <td>
Code pays suivant la norme ISO 3166.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408614742379.xml">vads_cust_district</a></b>
    </td>
     <td>
ans..127
    </td>
     <td>
Quartier.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408614926108.xml">vads_cust_email</a></b>
    </td>
     <td>
ans..150
    </td>
     <td>
Adresse e-mail de l’acheteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615025768.xml">vads_cust_first_name</a></b>
    </td>
     <td>
an..63
    </td>
     <td>
Prénom.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615118352.xml">vads_cust_id</a></b>
    </td>
     <td>
an..63
    </td>
     <td>
Référence de l’acheteur sur le site marchand.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615176997.xml">vads_cust_last_name</a></b>
    </td>
     <td>
an..63
    </td>
     <td>
Nom.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1423825610581.xml">
<b>vads_cust_legal_name</b></a>
    </td>
     <td>
an..100
    </td>
     <td>
Raison sociale de l&#x27;acheteur.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408615260331.xml">vads_cust_name</a>
    </td>
     <td>
an..127
    </td>
     <td>
Déprécié.     <p>
Utilisez 
<b>vads_cust_first_name</b> et 
<b>vads_cust_last_name</b>.
    </p>

    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1440084630860.xml">
<b>vads_cust_national_id</b></a>
    </td>
     <td>
ans..255
    </td>
     <td>
Identifiant national.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615340066.xml">vads_cust_phone</a></b>
    </td>
     <td>
an..32
    </td>
     <td>
Numéro de téléphone.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615396958.xml">vads_cust_state</a></b>
    </td>
     <td>
ans..127
    </td>
     <td>
Etat / Région.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615475409.xml">vads_cust_status</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Statut (particulier / entreprise).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408615888267.xml">vads_cust_title</a></b>
    </td>
     <td>
an..63
    </td>
     <td>
Civilité de l’acheteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408616006014.xml">vads_cust_zip</a></b>
    </td>
     <td>
an..64
    </td>
     <td>
Code postal.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410522989073.xml -->
  <h3>
  Informations sur la livraison
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408631826813.xml">vads_ship_to_city</a></b>
    </td>
     <td>
an..128
    </td>
     <td>
Ville.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408632458704.xml">vads_ship_to_country</a></b>
    </td>
     <td>
a2
    </td>
     <td>
Code pays suivant la norme ISO 3166.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408632679858.xml">vads_ship_to_delivery_company_name</a></b>
    </td>
     <td>
ans..127
    </td>
     <td>
Nom du transporteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408632864028.xml">vads_ship_to_district</a></b>
    </td>
     <td>
ans..127
    </td>
     <td>
Quartier.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408634336065.xml">vads_ship_to_first_name</a></b>
    </td>
     <td>
ans..63
    </td>
     <td>
Prénom.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408634522824.xml">vads_ship_to_last_name</a></b>
    </td>
     <td>
ans..63
    </td>
     <td>
Nom.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1423827002789.xml">
<b>vads_ship_to_legal_name</b></a>
    </td>
     <td>
an..100
    </td>
     <td>
Raison sociale de lieu de livraison.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408634587110.xml">vads_ship_to_name</a></b>
    </td>
     <td>
ans..63
    </td>
     <td>
Nom de l’acheteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408634698739.xml">vads_ship_to_phone_num</a></b>
    </td>
     <td>
ans..32
    </td>
     <td>
Numéro de téléphone.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408634757367.xml">vads_ship_to_speed</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Mode de livraison
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635009448.xml">vads_ship_to_state</a></b>
    </td>
     <td>
ans..127
    </td>
     <td>
Etat / Région.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408634859538.xml">vads_ship_to_status</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Statut (particulier / entreprise).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635091649.xml">vads_ship_to_street</a></b>
    </td>
     <td>
ans..255
    </td>
     <td>
Adresse postale.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635487312.xml">vads_ship_to_street_number</a></b>
    </td>
     <td>
an..5
    </td>
     <td>
Numéro de rue.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635139472.xml">vads_ship_to_street2</a></b>
    </td>
     <td>
ans..255
    </td>
     <td>
Deuxième ligne d’adresse.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635578322.xml">vads_ship_to_type</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Type de livraison.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635663652.xml">vads_ship_to_user_info</a></b>
    </td>
     <td>
ans..255
    </td>
     <td>
Informations acheteur (Identifant légal CPF/CNPJ).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408635725582.xml">vads_ship_to_zip</a></b>
    </td>
     <td>
an..64
    </td>
     <td>
Code postal.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410533143029.xml -->
  <h3>
  Informations sur le moyen de paiement
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408550019475.xml">vads_bank_code</a></b>
    </td>
     <td>
n5
    </td>
     <td>
Code banque associé à la banque émettrice.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408550125294.xml">vads_bank_product</a></b>
    </td>
     <td>
an..3
    </td>
     <td>
Code produit de la carte utilisée pour le paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408550840170.xml">vads_birth_day</a></b>
    </td>
     <td>
n..2
    </td>
     <td>
Jour de naissance du porteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408551247542.xml">vads_birth_month</a></b>
    </td>
     <td>
n..2
    </td>
     <td>
Mois de naissance du porteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408551527515.xml">vads_birth_year</a></b>
    </td>
     <td>
n4
    </td>
     <td>
Année de naissance du porteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408606602420.xml">vads_card_brand</a></b>
    </td>
     <td>
an..127
    </td>
     <td>
Type de carte utilisé pour le paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408607272456.xml">vads_card_country</a></b>
    </td>
     <td>
ISO 3166
    </td>
     <td>
Code pays de la carte utilisée pour le paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408607355172.xml">vads_card_number</a></b>
    </td>
     <td>
n..36
    </td>
     <td>
Numéro de carte masqué.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408616066204.xml">vads_cvv</a></b>
    </td>
     <td>
n..4
    </td>
     <td>
Code de sécurité de la carte à 3 ou 4 chiffres.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408624003656.xml">vads_expiry_month</a></b>
    </td>
     <td>
n..2
    </td>
     <td>
Mois d&#x27;expiration de la carte utilisée pour le paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408624118504.xml">vads_expiry_year</a></b>
    </td>
     <td>
n4
    </td>
     <td>
Année d&#x27;expiration de la carte utilisée pour le paiement.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1411031267607.xml -->
  <h3>
  Informations sur la transaction
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408546768429.xml">vads_amount</a></b>
    </td>
     <td>
n..12
    </td>
     <td>
Montant de la transaction exprimé dans la plus petite unité de la devise (le centime pour l&#x27;euro) 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408547832760.xml">vads_auth_mode</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Spécifie de quelle manière est réalisée la demande d’autorisation. 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408547832760.xml">vads_auth_number</a></b>
    </td>
     <td>
an..6
    </td>
     <td>
Numéro d&#x27;autorisation retourné par le serveur bancaire.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408548356588.xml">vads_auth_result</a></b>
    </td>
     <td>
n2
    </td>
     <td>
Code retour de la demande d&#x27;autorisation retournée par la banque émettrice.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408604690440.xml">vads_capture_delay</a></b>
    </td>
     <td>
n..3
    </td>
     <td>
Délai en nombre de jours avant remise en banque.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1447857764792.xml">
<b>vads_change_rate</b></a>
    </td>
     <td>
string
    </td>
     <td>
Taux de change utilisé pour calculer le montant réél du paiement (paiement multi-devise).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408607837994.xml">vads_contract_used</a></b>
    </td>
     <td>
ans..250
    </td>
     <td>
Contrat commerçant utilisé.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408607561985.xml">vads_contracts</a></b>
    </td>
     <td>
RESEAU1=contrat1;    <p>
RESEAU2=contrat2
    </p>

    </td>
     <td>
Contrat commerçant à utiliser.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1406044948454.xml">vads_currency</a></b>
    </td>
     <td>
n3
    </td>
     <td>
Code numérique de la monnaie à utiliser pour le paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408616823195.xml">vads_effective_amount</a></b>
    </td>
     <td>
n..12
    </td>
     <td>
Montant du paiement exprimé dans la plus petite unité de la devise utilisée pour effectuer la remise en banque(le centime pour l&#x27;euro) 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408623011853.xml">vads_effective_creation_date</a></b>
    </td>
     <td>
n14
    </td>
     <td>
Date d&#x27;enregistrement de la transaction, dans le fuseau UTC (ou GMT+0) au format horaire 24h (AAAAMMJJHHMMSS).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408625891261.xml">vads_operation_type</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Permet de différencier une opération de débit ou de crédit (remboursement).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1406099131711.xml">vads_payment_cards </a></b>
    </td>
     <td>
type1;type2
    </td>
     <td>
Liste des moyens de paiement à proposer à l’acheteur.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408626891430.xml">vads_payment_certificate</a></b>
    </td>
     <td>
an40
    </td>
     <td>
Champ valorisé par la plateforme de paiement dans le cas où l’autorisation a été réalisée 
<b>avec succès</b>.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408627002482.xml">vads_payment_config</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Type du paiement : comptant ou en plusieurs fois.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1415797825296.xml">vads_payment_option_code</a></b>
    </td>
     <td>
string
    </td>
     <td>
Permet de définir le code de l&#x27;option utilisée.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1424076095539.xml">
<b>vads_payment_seq</b></a>
    </td>
     <td>
json
    </td>
     <td>
Décrit la séquence d&#x27;un paiement fractionné.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408627133271.xml">vads_payment_src</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Origine du paiement.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1413811527238.xml">
<b>vads_risk_analyzer_result</b></a>
    </td>
     <td>
ans
    </td>
     <td>
Retourne le résultat de l&#x27;analyse de fraude effectué par un système externe (ClearSale, CyberSource,...).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1436276953870.xml">vads_risk_assessment_result</a></b>
    </td>
     <td>
ans
    </td>
     <td>
Retourne le résultat de l&#x27;analyse de gestion des risques avancée effectuée par la plateforme de paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1409751437465.xml">vads_risk_control</a></b>
    </td>
     <td>
contrôle1=resultat1;    <p>
contrôle2=resultat2
    </p>

    </td>
     <td>
Résultat des contrôles associés à la fraude.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408631717602.xml">vads_sequence_number</a></b>
    </td>
     <td>
n
    </td>
     <td>
Numéro de séquence de la transaction (numéro d&#x27;échéance).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638544413.xml">vads_trans_date</a></b>
    </td>
     <td>
n14
    </td>
     <td>
     <p>
Date et heure, dans le fuseau UTC (ou GMT+0) au format horaire 24h (AAAAMMJJHHMMSS).
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638607923.xml">vads_trans_id</a></b>
    </td>
     <td>
n6
    </td>
     <td>
Identifiant unique d&#x27;une transaction.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638657026.xml">vads_trans_status</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Statut de la transaction.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1432730650747.xml">vads_trans_uuid</a></b>
    </td>
     <td>
ans32
    </td>
     <td>
Référence unique de la transaction générée par la plateforme de paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408639754479.xml">vads_validation_mode</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Mode de validation de la transaction.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408639995934.xml">vads_warranty_result</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>

    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410351589465.xml -->
  <h3>
  Authentification 3DS
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408636944655.xml">vads_threeds_cavv</a></b>
    </td>
     <td>
ans..28
    </td>
     <td>
    <p>
Désigne la vérification de l’authentification du porteur par l’ACS.
    </p>
Il est valorisé par le serveur d’authentification 3DS (ACS) lorsque l’acheteur s’est correctement authentifié (vads_threeds_status vaut « Y » ou « A »).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408637038608.xml">vads_threeds_cavvAlgorithm</a></b>
    </td>
     <td>
n1
    </td>
     <td>
     <p>
Algorithme utilisé par l’ACS pour générer la valeur du cavv.
    </p>
     <p>
Il est valorisé par le serveur d’authentification 3DS (ACS) lorsque l’acheteur s’est correctement authentifié (vads_threeds_status vaut « Y » ou « A »).
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408637200153.xml">vads_threeds_eci</a></b>
    </td>
     <td>
n..2
    </td>
     <td>
    <p>
Désigne l’Indicateur de Commerce Electronique.
    </p>
Il est valorisé par le serveur d’authentification 3DS (ACS) lorsque l’acheteur s’est correctement authentifié (vads_threeds_status vaut « Y » ou « A »).
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408637262343.xml">vads_threeds_enrolled</a></b>
    </td>
     <td>
a1
    </td>
     <td>
    <p>
Désigne le statut de l’enrôlement du porteur.
    </p>
Il est valorisé par les serveurs VISA et MASTERCARD (DS) durant le processus 3D Secure
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408637376020.xml">vads_threeds_exit_status</a></b>
    </td>
     <td>
n..2
    </td>
     <td>
     <p>
Désigne le statut final du processus 3D Secure.
    </p>
     <p>
Il est valorisé par la plateforme de paiement.
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638075046.xml">vads_threeds_mpi</a></b>
    </td>
     <td>
n1
    </td>
     <td>
Active / désactive le processus 3DS lors d’un paiement e-commerce
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638234029.xml">vads_threeds_sign_valid</a></b>
    </td>
     <td>
n1
    </td>
     <td>
    <p>
Désigne la validité de la signature du message PARes.
    </p>
Il est valorisé par la plateforme de paiement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638341396.xml">vads_threeds_status</a></b>
    </td>
     <td>
a1
    </td>
     <td>
     <p>
Désigne le statut de l’authentification du porteur.
    </p>
     <p>
Il est valorisé par le serveur d’authentification 3DS (ACS) durant le processus 3D Secure.
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408638445416.xml">vads_threeds_xid</a></b>
    </td>
     <td>
ans..28
    </td>
     <td>
    <p>
Désigne la référence unique de la transaction 3DS.
    </p>
Il est valorisé par le serveur d’authentification (ACS) durant le processus 3D Secure.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1416328457246.xml -->
  <h3>
  Information sur les transactions de don
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1416319402112.xml">vads_ext_info_donation</a></b>
    </td>
     <td>
n..12
    </td>
     <td>
Montant du don exprimé dans la plus petite unité de la monnaie ou devise(le centime pour l&#x27;euro) 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1416320032761.xml">vads_ext_info_donation_contribution</a></b>
    </td>
     <td>
n..12
    </td>
     <td>
Montant en centimes de la contribution exprimé dans la plus petite unité de la monnaie ou devise (le centime pour l&#x27;euro) 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1416319856371.xml">vads_ext_info_donation_merchant</a></b>
    </td>
     <td>
n8
    </td>
     <td>
Identifiant de la boutique sur laquelle le don est effectué.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1416319586041.xml">vads_ext_info_donation_recipient</a></b>
    </td>
     <td>
n..20
    </td>
     <td>
Identifiant HelloAsso de l&#x27;association qui a reçu le don.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1416319785868.xml">vads_ext_info_donation_recipient_name</a></b>
    </td>
     <td>
string
    </td>
     <td>
Nom de l&#x27;association qui a reçu le don.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1416242779600.xml">vads_risk_primery_warranty</a></b>
    </td>
     <td>
string (enum)
    </td>
     <td>
Permet de surcharger la configuration du contrôle de risque 
<b>Contrôle du transfert de responsabilité de la transaction primaire</b>.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410518407791.xml -->
  <h3>
  Personnalisation de la page de paiement
</h3>
   <p>

  </p>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>
<a href="#TODO-tla1406127047143.xml">
<b>vads_available_languages</b></a>
    </td>
     <td>
langue1;langue2;langue3
    </td>
     <td>
Permet de spécifier les langues disponibles sur la page de paiement sous forme de liste.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1406125864809.xml">
<b>vads_language</b></a>
    </td>
     <td>
a2
    </td>
     <td>
Définit la langue dans laquelle est affichée la page de paiement (norme ISO 639-1).
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408635796483.xml">
<b>vads_shop_name</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
Permet de définir le nom de la boutique qui apparait dans les e-mails de confirmation de paiement et sur le récapitulatif de la transaction.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408635865701.xml">
<b>vads_shop_url</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
Permet de surcharger l&#x27;URL de la boutique qui apparait sur la page de paiement et les e-mails de confirmation de paiement.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408636286614.xml">
<b>vads_theme_config</b></a>
    </td>
     <td>
code1=valeur1;code2=valeur2
    </td>
     <td>
Permet de personnaliser certains éléments de la page de paiement.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1410514133139.xml -->
  <h3>
  Redirection vers le site marchand
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>

<b><a href="#TODO-tla1408627821400.xml">vads_redirect_error_message</a></b>
    </td>
     <td>
ans..255
    </td>
     <td>
     <p>

<u>Redirection automatique</u> :
    </p>
     <p>
Message affiché sur la page de paiement avant redirection vers le site marchand dans le cas d&#x27;un paiement refusé / accepté.
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408627924375.xml">vads_redirect_error_timeout</a></b>
    </td>
     <td>
n..3
    </td>
     <td>
     <p>

<u>Redirection automatique</u> :
    </p>
     <p>
Délai ( en secondes ) avant redirection vers le site marchand après un paiement refusé / accepté. 
    </p>
 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408627992082.xml">vads_redirect_success_message</a></b>
    </td>
     <td>
ans..255
    </td>
     <td>
    <p>

<u>Redirection automatique</u> :
    </p>
Spécifie le message à la fin d’un paiement accepté dans le cas d’une redirection automatique vers le site marchand.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1408628074901.xml">vads_redirect_success_timeout</a></b>
    </td>
     <td>
n..3
    </td>
     <td>
    <p>

<u>Redirection automatique</u> :
    </p>
Délai en secondes avant redirection vers le site marchand à la fin d’un paiement accepté. Sa valeur est comprise entre 0 et 600s.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1406116003851.xml">vads_return_mode</a></b>
    </td>
     <td>
GET/POST/    <p>
NONE
    </p>

    </td>
     <td>
Permet de spécifier le mode de transmission des données aux URLs de retour vers le site marchand.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408638742584.xml">
<b>vads_url_cancel</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL où sera redirigé l’acheteur si celui-ci appuie sur &quot; annuler et retourner à la boutique &quot; avant d&#x27;avoir procédé au paiement.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408638807307.xml">
<b>vads_url_check</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL de la page à notifier à la fin du paiement. Surcharge la valeur saisie dans le paramétrage des règles de notification.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408638858037.xml">
<b>vads_url_check_src</b></a>
    </td>
     <td>
string (enum)
    </td>
     <td>
Ce paramètre définit l&#x27;évènement déclencheur de la notification instantanée (aussi appelée IPN ou URL de notification).
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408639045339.xml">
<b>vads_url_error</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL où sera redirigé l’acheteur en cas d&#x27;erreur de traitement interne.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408639165197.xml">
<b>vads_url_refused</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL où sera redirigé l’acheteur en cas de refus 
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408639224559.xml">
<b>vads_url_return</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL par défaut où sera redirigé l&#x27;acheteur si celui-ci appuie sur &quot;retourner à la boutique&quot;.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1408639383258.xml">
<b>vads_url_success</b></a>
    </td>
     <td>
ans..127
    </td>
     <td>
URL où sera redirigé l’acheteur en cas de succès.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1411025757958.xml -->
  <h3>
  Informations sur l&#x27;abonnement
</h3>
   <p>
   <table>
          <tr>
     <td>
Nom du champ
    </td>
     <td>
Format
    </td>
     <td>
Description
    </td>
 
   </tr>
      <tr>
     <td>
<a href="#TODO-tla1411481213747.xml">
<b>vads_identifier_status</b></a>
    </td>
     <td>
string
    </td>
     <td>
Statut de l&#x27;enregistrement du mandat.
    </td>
 
   </tr>
    <tr>
     <td>
<a href="#TODO-tla1447863204383.xml">
<b>vads_recurrence_number</b></a>
    </td>
     <td>
n
    </td>
     <td>
Numéro de l&#x27;échéance de l&#x27;abonnement.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411481506331.xml">vads_recurrence_status</a></b>
    </td>
     <td>
string
    </td>
     <td>
Statut de la création d&#x27;une récurrence.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411026103849.xml">vads_sub_amount</a></b>
    </td>
     <td>
n..12
    </td>
     <td>
Montant des échéances de l’abonnement pour toutes les échéances, hormis celles éventuellement définies par 
<b>vads_sub_init_amount_number</b>
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411026347617.xml">vads_sub_currency</a></b>
    </td>
     <td>
n3
    </td>
     <td>
Code numérique de la monnaie à utiliser pour l’abonnement, selon la norme ISO 4217.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411026999130.xml">vads_sub_desc</a></b>
    </td>
     <td>
string
    </td>
     <td>
Règle de récurrence à appliquer suivant la spécification iCalendar RFC5545.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411025901698.xml">vads_sub_effect_date</a></b>
    </td>
     <td>
n8
    </td>
     <td>
Date d&#x27;effet de l&#x27;abonnement. 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411026602462.xml">vads_sub_init_amount</a></b>
    </td>
     <td>
n..12
    </td>
     <td>
Montant des échéances de l’abonnement pour les 
<u>premières échéances</u>. 
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411026836617.xml">vads_sub_init_amount_number</a></b>
    </td>
     <td>
n..3
    </td>
     <td>
Nombre d’échéances auxquelles il faudra appliquer le montant 
<b>vads_sub_init_amount</b>.
    </td>
 
   </tr>
    <tr>
     <td>

<b><a href="#TODO-tla1411025356421.xml">vads_subscription</a></b>
    </td>
     <td>
ans..50
    </td>
     <td>
Identifiant de l&#x27;abonnement à créer.
    </td>
 
   </tr>
   
  </table>
 
  </p>
 <!-- tla1408640166705.xml -->
<!-- tla1405002307652.xml -->
<!-- tla1408546768429.xml -->
<!-- tla1408547056236.xml -->
<!-- tla1408547832760.xml -->
<!-- tla1408548356588.xml -->
<!-- tla1406127047143.xml -->
<!-- tla1408550019475.xml -->
<!-- tla1408550125294.xml -->
<!-- tla1408550840170.xml -->
<!-- tla1408551247542.xml -->
<!-- tla1408551527515.xml -->
<!-- tla1408604690440.xml -->
<!-- tla1408606602420.xml -->
<!-- tla1408607272456.xml -->
<!-- tla1408607355172.xml -->
<!-- tla1447857764792.xml -->
<!-- tla1408607561985.xml -->
<!-- tla1408607837994.xml -->
<!-- tla1408607954033.xml -->
<!-- tla1408607954033.xml -->
<!-- tla1408608221796.xml -->
<!-- tla1408608221796.xml -->
<!-- tla1406044948454.xml -->
<!-- tla1408608603787.xml -->
<!-- tla1408608675071.xml -->
<!-- tla1408608769950.xml -->
<!-- tla1408614379476.xml -->
<!-- tla1408614445899.xml -->
<!-- tla1408614742379.xml -->
<!-- tla1408614926108.xml -->
<!-- tla1408615025768.xml -->
<!-- tla1408615118352.xml -->
<!-- tla1408615176997.xml -->
<!-- tla1423825610581.xml -->
<!-- tla1408615260331.xml -->
<!-- tla1440084630860.xml -->
<!-- tla1408615340066.xml -->
<!-- tla1408615396958.xml -->
<!-- tla1408615475409.xml -->
<!-- tla1408615888267.xml -->
<!-- tla1408616006014.xml -->
<!-- tla1408616066204.xml -->
<!-- tla1408616823195.xml -->
<!-- tla1408623011853.xml -->
<!-- tla1408624003656.xml -->
<!-- tla1408624118504.xml -->
<!-- tla1408624169447.xml -->
<!-- tla1418032860506.xml -->
<!-- tla1418036120946.xml -->
<!-- tla1418033120031.xml -->
<!-- tla1418032336492.xml -->
<!-- tla1418037434548.xml -->
<!-- tla1418032955977.xml -->
<!-- tla1418033253071.xml -->
<!-- tla1418032770788.xml -->
<!-- tla1416319402112.xml -->
<!-- tla1416319586041.xml -->
<!-- tla1416319785868.xml -->
<!-- tla1416319856371.xml -->
<!-- tla1416320032761.xml -->
<!-- tla1408624287246.xml -->
<!-- tla1408625090595.xml -->
<!-- tla1408625202233.xml -->
<!-- tla1411481213747.xml -->
<!-- tla1412321830815.xml -->
<!-- tla1406125864809.xml -->
<!-- tla1411125541878.xml -->
<!-- tla1408625891261.xml -->
<!-- tla1408626141983.xml -->
<!-- tla1408626234577.xml -->
<!-- tla1408626308005.xml -->
<!-- tla1408626336653.xml -->
<!-- tla1408626371544.xml -->
<!-- tla1406099131711.xml -->
<!-- tla1408626891430.xml -->
<!-- tla1408626891430.xml -->
<!-- tla1408627002482.xml -->
<!-- tla1408627002482.xml -->
<!-- tla1415014254111.xml -->
<!-- tla1415797825296.xml -->
<!-- tla1424076095539.xml -->
<!-- tla1408627133271.xml -->
<!-- tla1408627517688.xml -->
<!-- tla1411642615770.xml -->
<!-- tla1411126075812.xml -->
<!-- tla1411125732485.xml -->
<!-- tla1411126555396.xml -->
<!-- tla1411126454471.xml -->
<!-- tla1411126340153.xml -->
<!-- tla1433941223778.xml -->
<!-- tla1447863204383.xml -->
<!-- tla1411481506331.xml -->
<!-- tla1408627821400.xml -->
<!-- tla1408627821400.xml -->
<!-- tla1408627924375.xml -->
<!-- tla1408627992082.xml -->
<!-- tla1408628074901.xml -->
<!-- tla1408628157713.xml -->
<!-- tla1406116003851.xml -->
<!-- tla1413811527238.xml -->
<!-- tla1436276953870.xml -->
<!-- tla1409751437465.xml -->
<!-- tla1416242779600.xml -->
<!-- tla1408631717602.xml -->
<!-- tla1408631826813.xml -->
<!-- tla1408632458704.xml -->
<!-- tla1408632679858.xml -->
<!-- tla1408632864028.xml -->
<!-- tla1408634336065.xml -->
<!-- tla1408634522824.xml -->
<!-- tla1423827002789.xml -->
<!-- tla1423827002789.xml -->
<!-- tla1408634587110.xml -->
<!-- tla1408634698739.xml -->
<!-- tla1408634757367.xml -->
<!-- tla1408634859538.xml -->
<!-- tla1408635009448.xml -->
<!-- tla1408635091649.xml -->
<!-- tla1408635091649.xml -->
<!-- tla1408635139472.xml -->
<!-- tla1408635487312.xml -->
<!-- tla1408635578322.xml -->
<!-- tla1408635663652.xml -->
<!-- tla1408635725582.xml -->
<!-- tla1412321271132.xml -->
<!-- tla1408635796483.xml -->
<!-- tla1408635865701.xml -->
<!-- tla1408636137772.xml -->
<!-- tla1411025356421.xml -->
<!-- tla1411026103849.xml -->
<!-- tla1411026347617.xml -->
<!-- tla1411026999130.xml -->
<!-- tla1411025901698.xml -->
<!-- tla1411026602462.xml -->
<!-- tla1411026836617.xml -->
<!-- tla1412321592265.xml -->
<!-- tla1408636286614.xml -->
<!-- tla1408636944655.xml -->
<!-- tla1408637038608.xml -->
<!-- tla1408637200153.xml -->
<!-- tla1408637262343.xml -->
<!-- tla1408637376020.xml -->
<!-- tla1408638075046.xml -->
<!-- tla1408638234029.xml -->
<!-- tla1408638341396.xml -->
<!-- tla1408638445416.xml -->
<!-- tla1408638544413.xml -->
<!-- tla1408638607923.xml -->
<!-- tla1408638657026.xml -->
<!-- tla1432730650747.xml -->
<!-- tla1408638742584.xml -->
<!-- tla1408638807307.xml -->
<!-- tla1408638858037.xml -->
<!-- tla1408639045339.xml -->
<!-- tla1408639045339.xml -->
<!-- tla1408639119392.xml -->
<!-- tla1408639165197.xml -->
<!-- tla1408639224559.xml -->
<!-- tla1408639383258.xml -->
<!-- tla1408639681161.xml -->
<!-- tla1408639754479.xml -->
<!-- tla1408639900969.xml -->
<!-- tla1408639995934.xml -->
</body> </html>
